<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="font-awesome.min.css">
    <!-- ä¸»é¢˜ç®¡ç†æ¨¡å—ï¼ˆå¿…é¡»åœ¨popup.jså‰åŠ è½½ï¼‰ -->
    <script src="theme.js"></script>
    <!-- å®‰å…¨çš„æ ‡ç­¾é¡µæ“ä½œå·¥å…· -->
    <script src="safe_tabs.js"></script>
    <script src="popup.js" type="module" defer></script>
    <style>
        /* Theme variables */
        html {
            /* Light Theme (Default) */
            --light-bg-primary: #ffffff;
            --light-bg-secondary: #f8f9fa;
            --light-bg-tertiary: #f0f0f0;
            --light-bg-elevated: #ffffff;

            --light-text-primary: #212529;
            --light-text-secondary: #6c757d;
            --light-text-disabled: #adb5bd;
            --light-text-on-accent: #ffffff;

            --light-border-primary: #dee2e6;
            --light-border-secondary: #ced4da;

            --light-input-bg: #ffffff;
            --light-input-text: #495057;
            --light-input-border: #ced4da;
            --light-input-placeholder: #adb5bd;
            --light-input-focus-border: #007AFF;
            --light-input-focus-shadow: rgba(0, 122, 255, 0.2);

            --light-accent-color: #007AFF;
            --light-accent-color-hover: #0062cc;
            --light-accent-text-color: #007AFF;

            --light-success-color: #4CAF50;
            --light-error-color: #FF3B30;
            --light-warning-color: #ff9800;

            --light-link-color: #007AFF;

            --light-scrollbar-track: #f1f1f1;
            --light-scrollbar-thumb: #c1c1c1;
            --light-scrollbar-thumb-hover: #a8a8a8;

            --light-icon-color: #6c757d;
            --light-svg-icon-stroke-color-path: "%23666";

            --light-status-info-bg: #e6f3ff;
            --light-status-info-text: #007AFF;

            /* Dark Theme */
            --dark-bg-primary: #1e1e1e;
            --dark-bg-secondary: #2d2d2d;
            --dark-bg-tertiary: #333333;
            --dark-bg-elevated: #383838;

            --dark-text-primary: #e0e0e0;
            --dark-text-secondary: #9e9e9e;
            --dark-text-disabled: #6c6c6c;
            --dark-text-on-accent: #ffffff;

            --dark-border-primary: #444444;
            --dark-border-secondary: #555555;

            --dark-input-bg: #2d2d2d;
            --dark-input-text: #e0e0e0;
            --dark-input-border: #555555;
            --dark-input-placeholder: #777777;
            --dark-input-focus-border: #007AFF;
            --dark-input-focus-shadow: rgba(0, 122, 255, 0.3);

            --dark-accent-color: #007AFF;
            --dark-accent-color-hover: #0062cc;
            --dark-accent-text-color: #3694ff;

            --dark-success-color: #4CAF50;
            --dark-error-color: #FF3B30;
            --dark-warning-color: #ff9800;

            --dark-link-color: #3694ff;

            --dark-scrollbar-track: #2d2d2d;
            --dark-scrollbar-thumb: #555555;
            --dark-scrollbar-thumb-hover: #666666;

            --dark-icon-color: #9e9e9e;
            --dark-svg-icon-stroke-color-path: "%23aaa";

            --dark-status-info-bg: #1a3f5f;
            --dark-status-info-text: #4da3ff;

            /* Apply theme variables - defaults to light theme */
            --theme-bg-primary: var(--light-bg-primary);
            --theme-bg-secondary: var(--light-bg-secondary);
            --theme-bg-tertiary: var(--light-bg-tertiary);
            --theme-bg-elevated: var(--light-bg-elevated);

            --theme-text-primary: var(--light-text-primary);
            --theme-text-secondary: var(--light-text-secondary);
            --theme-text-disabled: var(--light-text-disabled);
            --theme-text-on-accent: var(--light-text-on-accent);

            --theme-border-primary: var(--light-border-primary);
            --theme-border-secondary: var(--light-border-secondary);

            --theme-input-bg: var(--light-input-bg);
            --theme-input-text: var(--light-input-text);
            --theme-input-border: var(--light-input-border);
            --theme-input-placeholder: var(--light-input-placeholder);
            --theme-input-focus-border: var(--light-input-focus-border);
            --theme-input-focus-shadow: var(--light-input-focus-shadow);

            --theme-accent-color: var(--light-accent-color);
            --theme-accent-color-hover: var(--light-accent-color-hover);
            --theme-accent-text-color: var(--light-accent-text-color);

            --theme-success-color: var(--light-success-color);
            --theme-error-color: var(--light-error-color);
            --theme-warning-color: var(--light-warning-color);

            --theme-link-color: var(--light-link-color);

            --theme-scrollbar-track: var(--light-scrollbar-track);
            --theme-scrollbar-thumb: var(--light-scrollbar-thumb);
            --theme-scrollbar-thumb-hover: var(--light-scrollbar-thumb-hover);

            --theme-icon-color: var(--light-icon-color);
            --theme-svg-icon-stroke-color-path: var(--light-svg-icon-stroke-color-path);

            --theme-status-info-bg: var(--light-status-info-bg);
            --theme-status-info-text: var(--light-status-info-text);
            --theme-status-info-border: #b3d9ff;

            --theme-status-error-bg: #fff2f2;
            --theme-status-error-text: #FF3B30;
            --theme-status-error-border: #ffcdd2;

            --theme-hover-bg: #e9ecef;
            --theme-selected-item-bg: #ddeeff;

            --theme-switch-bg: #ccc;
            --theme-switch-bg-checked: #007AFF;
            --theme-switch-slider-bg: #ffffff;

            --theme-backup-mode-auto-gradient: linear-gradient(to right, #e8f5e9, #f0f0f0);
            --theme-backup-mode-manual-gradient: linear-gradient(to right, #f0f0f0, #e6f7ff);
            --theme-backup-mode-slider-bg: #ffffff;
            --theme-backup-mode-auto-text: #4CAF50;
            --theme-backup-mode-manual-text: #007AFF;
            --theme-backup-mode-inactive-text: #6c757d;

            --theme-settings-button-bg: #f5f5f5;
            --theme-settings-button-text: #333;
            --theme-settings-button-border: #ddd;
            --theme-settings-button-hover-bg: #eaeaea;

            --theme-dropzone-bg: #f8f9fa;
            --theme-dropzone-border: #ccc;
            --theme-dropzone-hover-bg: #f0f7ff;
            --theme-dropzone-drag-bg: #e8f4fc;
            --theme-dropzone-success-bg: #f0fff0;
            --theme-dropzone-error-bg: #fff0f0;
            --theme-dropzone-text-color: #666;

            color-scheme: light;
            /* Indicate light scheme */
        }

        /* Dark Theme */
        html[data-theme="dark"] {
            --theme-bg-primary: var(--dark-bg-primary);
            --theme-bg-secondary: var(--dark-bg-secondary);
            --theme-bg-tertiary: var(--dark-bg-tertiary);
            --theme-bg-elevated: var(--dark-bg-elevated);

            --theme-text-primary: var(--dark-text-primary);
            --theme-text-secondary: var(--dark-text-secondary);
            --theme-text-disabled: var(--dark-text-disabled);
            --theme-text-on-accent: var(--dark-text-on-accent);

            --theme-border-primary: var(--dark-border-primary);
            --theme-border-secondary: var(--dark-border-secondary);

            --theme-input-bg: var(--dark-input-bg);
            --theme-input-text: var(--dark-input-text);
            --theme-input-border: var(--dark-input-border);
            --theme-input-placeholder: var(--dark-input-placeholder);
            --theme-input-focus-shadow: var(--dark-input-focus-shadow);

            --theme-accent-text-color: #66b3ff;
            /* Lighter blue for titles in dark mode */

            --theme-link-color: #66b3ff;

            --theme-scrollbar-track: var(--dark-scrollbar-track);
            --theme-scrollbar-thumb: var(--dark-scrollbar-thumb);
            --theme-scrollbar-thumb-hover: var(--dark-scrollbar-thumb-hover);

            --theme-icon-color: var(--dark-icon-color);
            --theme-svg-icon-stroke-color-path: var(--dark-svg-icon-stroke-color-path);

            --theme-status-info-bg: var(--dark-status-info-bg);
            --theme-status-info-text: var(--dark-status-info-text);
            --theme-status-info-border: #33628f;

            --theme-status-error-bg: #592626;
            --theme-status-error-text: #ff7066;
            --theme-status-error-border: #8f4040;

            --theme-hover-bg: #3a3a3a;
            --theme-selected-item-bg: #2a3f55;

            --theme-switch-bg: #555;
            /* --theme-switch-bg-checked: #007AFF; /* Stays the same */
            --theme-switch-slider-bg: #121212;

            --theme-backup-mode-auto-gradient: linear-gradient(to right, #253825, #2c2c2c);
            --theme-backup-mode-manual-gradient: linear-gradient(to right, #2c2c2c, #253845);
            --theme-backup-mode-slider-bg: #1e1e1e;
            --theme-backup-mode-inactive-text: #757575;

            --theme-settings-button-bg: #3a3a3a;
            --theme-settings-button-text: var(--dark-text-primary);
            --theme-settings-button-border: #555;
            --theme-settings-button-hover-bg: #4a4a4a;

            --theme-dropzone-bg: #2c2c2c;
            --theme-dropzone-border: #555;
            --theme-dropzone-hover-bg: #2a3a4f;
            --theme-dropzone-drag-bg: #25354a;
            --theme-dropzone-success-bg: #204020;
            --theme-dropzone-error-bg: #402020;
            --theme-dropzone-text-color: var(--dark-text-secondary);

            color-scheme: dark;
            /* Indicate dark scheme */
        }

        /* åŸºç¡€é¡µé¢è®¾ç½® */
        body {
            width: auto;
            min-width: 750px;
            /* å¢åŠ æœ€å°å®½åº¦ */
            max-width: 850px;
            /* å¢åŠ æœ€å¤§å®½åº¦ */
            padding: 0;
            /* ç§»é™¤å†…è¾¹è· */
            margin: 0 auto;
            /* æ°´å¹³å±…ä¸­ */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden;
            background-color: var(--theme-bg-primary);
            /* Use CSS variable for background color */
            box-sizing: border-box;
            /* ç¡®ä¿paddingä¸ä¼šå¢åŠ æ€»å®½åº¦ */
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-section {
            flex: 1;
            width: 100%;
            padding: 20px 25px;
            /* ä¿ç•™å†…è¾¹è· */
            background-color: var(--theme-bg-elevated);
            /* Use CSS variable for background color */
            border-radius: 0;
            /* ç§»é™¤åœ†è§’ */
            box-shadow: none;
            /* ç§»é™¤é˜´å½± */
            position: relative;
            margin: 0 auto;
            /* æ°´å¹³å±…ä¸­ */
            box-sizing: border-box;
            /* ç¡®ä¿paddingä¸ä¼šå¢åŠ æ€»å®½åº¦ */
        }

        /* ç¡®ä¿æ•°å­—è¾“å…¥æ¡†çš„ä¸Šä¸‹è°ƒèŠ‚æŒ‰é’®å§‹ç»ˆå¯è§ */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            opacity: 1 !important;
            height: 24px;
            width: 18px;
            margin-right: 4px;
            background-color: var(--theme-input-border);
            /* Use CSS variable for background color */
            position: relative;
            border-radius: 0 2px 2px 0;
        }

        /* æ ‡é¢˜æ ·å¼ */
        h1 {
            font-size: 20px;
            color: var(--theme-accent-color);
            /* Use CSS variable for color */
            margin: 0 0 20px 0;
            font-weight: 600;
            white-space: nowrap;
        }

        /* è¡¨å•ç»„æ ·å¼ */
        .form-group {
            margin-bottom: 15px;
            width: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* è¡¨å•æ ‡ç­¾æ ·å¼ */
        label {
            color: var(--theme-text-primary);
            /* Use CSS variable for color */
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 500;
            position: relative;
            display: inline-block;
        }

        /* è§’æ ‡æ ·å¼ */
        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--theme-accent-color);
            /* Use CSS variable for background color */
            color: var(--theme-text-on-accent);
            /* Use CSS variable for text color */
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: badgePop 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes badgePop {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* è¾“å…¥æ¡†æ ·å¼ */
        input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--theme-input-border);
            /* Use CSS variable for border color */
            border-radius: 8px;
            font-size: 14px;
            box-sizing: border-box;
            background-color: var(--theme-input-bg);
            /* Use CSS variable for background color */
            transition: border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* è¾“å…¥æ¡†ç„¦ç‚¹çŠ¶æ€ */
        input:focus {
            border-color: var(--theme-input-focus-border);
            /* Use CSS variable for border color */
            outline: none;
            box-shadow: 0 0 0 3px var(--theme-input-focus-shadow);
            /* Use CSS variable for shadow color */
            background-color: var(--theme-input-bg);
            /* Use CSS variable for background color */
        }

        /* è¾“å…¥æ¡†å ä½ç¬¦æ ·å¼ */
        input::placeholder {
            color: var(--theme-input-placeholder);
            /* Use CSS variable for color */
            font-size: 13px;
        }

        /* æŒ‰é’®ç»„æ ·å¼ */
        .button-group {
            margin-top: 20px;
            /* å¢åŠ ä¸è¡¨å•çš„é—´è· */
            display: flex;
            gap: 15px;
            /* å¢åŠ æŒ‰é’®é—´è· */
            width: 100%;
        }

        /* æŒ‰é’®åŸºç¡€æ ·å¼ */
        button {
            flex: 1;
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            background-color: var(--theme-accent-color);
            /* Use CSS variable for background color */
            color: var(--theme-text-on-accent);
            /* Use CSS variable for text color */
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* æŒ‰é’®æ‚¬åœæ•ˆæœ */
        button:hover {
            background-color: var(--theme-accent-color-hover);
            /* Use CSS variable for background color */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            /* æ‚¬åœæ—¶å¢åŠ é˜´å½± */
            transform: translateY(-1px);
            /* è½»å¾®ä¸Šæµ®æ•ˆæœ */
        }

        /* ç¦ç”¨æŒ‰é’®æ ·å¼ */
        button:disabled {
            background-color: var(--theme-text-disabled);
            /* Use CSS variable for background color */
            cursor: not-allowed;
        }

        /* çŠ¶æ€æç¤ºæ¡†æ ·å¼ */
        .status {
            position: fixed;
            /* ä¿®æ”¹ä¸º fixed å®šä½ */
            top: 25px;
            right: 30px;
            padding: 12px 15px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.5;
            max-width: 300px;
            word-break: break-word;
            white-space: pre-line;
            /* æ”¯æŒæ¢è¡Œç¬¦ */
            z-index: 10001;
            /* å¢åŠ z-indexï¼Œç¡®ä¿åœ¨é¡¶å±‚æ˜¾ç¤º, é«˜äºè¯­è¨€åˆ‡æ¢æŒ‰é’® */
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background-color: var(--theme-bg-elevated);
            /* Use CSS variable for background color */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            pointer-events: none;
            /* æ·»åŠ æ­¤å±æ€§ä½¿çŠ¶æ€æç¤ºä¸ä¼šæ‹¦æˆªé¼ æ ‡äº‹ä»¶ */
        }

        .status.info {
            background-color: var(--theme-status-info-bg);
            /* Use CSS variable for background color */
            color: var(--theme-status-info-text);
            /* Use CSS variable for text color */
            border: 1px solid var(--theme-status-info-border);
            /* Use CSS variable for border color */
        }

        .status.error {
            background-color: var(--theme-status-error-bg);
            /* Use CSS variable for background color */
            color: var(--theme-status-error-text);
            /* Use CSS variable for text color */
            border: 1px solid var(--theme-status-error-border);
            /* Use CSS variable for border color */
        }

        .status.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* é¡µé¢åº•éƒ¨æ ·å¼ */
        .footer {
            margin: 12px 0 15px 0;
            /* ä¸Šå³ä¸‹å·¦è¾¹è· */
            text-align: center;
            color: var(--theme-text-secondary);
            /* Use CSS variable for text color */
            font-size: 12px;
            border-bottom: 1px solid var(--theme-border-primary);
            /* æ·»åŠ åˆ†éš”çº¿ */
            padding-bottom: 12px;
            /* åˆ†éš”çº¿çš„é—´è· */
        }

        /* åˆå§‹å¤‡ä»½å¯¹è¯æ¡† */
        .init-sync-dialog {
            margin-top: 15px;
            padding: 12px;
            background-color: var(--theme-bg-secondary);
            /* Use CSS variable for background color */
            border-radius: 8px;
            border: 1px solid var(--theme-border-primary);
            /* Use CSS variable for border color */
        }

        /* åˆå§‹åŒ–å¤‡ä»½æŒ‰é’®ç»„ */
        .init-sync-buttons {
            display: flex;
            gap: 15px;
            margin: 15px 0;
        }

        .init-sync-buttons button {
            flex: 1;
            padding: 10px 16px;
            font-size: 14px;
            border: none;
            border-radius: 6px;
            background-color: var(--theme-success-color);
            /* Use CSS variable for background color */
            color: var(--theme-text-on-accent);
            /* Use CSS variable for text color */
            cursor: pointer;
            transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            white-space: nowrap;
            text-align: center;
            min-width: 160px;
        }

        .init-sync-buttons button:hover {
            background-color: var(--theme-success-color);
            /* Use CSS variable for background color */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transform: translateY(-1px);
        }

        .init-sync-buttons button:disabled {
            background-color: var(--theme-text-disabled);
            /* Use CSS variable for background color */
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* è­¦å‘Šæ–‡æœ¬æ ·å¼ */
        .warning {
            color: var(--theme-error-color);
            /* Use CSS variable for text color */
            margin-bottom: 15px;
            font-size: 13px;
            font-weight: 500;
        }

        /* å¤‡ä»½çŠ¶æ€åŒºåŸŸ */
        .sync-status {
            margin-top: 20px;
            padding: 15px 20px;
            /* å‡å°å†…è¾¹è· */
            background-color: var(--theme-bg-elevated);
            /* Use CSS variable for background color */
            border-radius: 8px;
            border: 1px solid var(--theme-border-primary);
            /* Use CSS variable for border color */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            width: 100%;
            /* å®½åº¦100% */
            box-sizing: border-box;
            /* ç¡®ä¿paddingä¸ä¼šå¢åŠ æ€»å®½åº¦ */
        }

        /* å¤‡ä»½çŠ¶æ€ä¿¡æ¯åŒºå— */
        .backup-stats {
            margin-bottom: 15px;
            padding: 12px 15px;
            background-color: var(--theme-bg-tertiary);
            /* Use CSS variable for background color */
            border-radius: 6px;
            border: 1px solid var(--theme-border-primary);
            /* Use CSS variable for border color */
            line-height: 1.6;
            /* å¢åŠ è¡Œé—´è· */
            letter-spacing: 0.5px;
            /* å¾®å¼±å¢åŠ å­—ä½“é—´è· */
        }

        .backup-stats .stats-row {
            display: flex;
            margin-bottom: 10px;
            /* å¢åŠ è¡Œé—´è· */
        }

        .backup-stats .stats-label {
            font-weight: 700;
            /* ä¿æŒåŠ ç²— */
            font-size: 13px;
            /* ç¼©å°å­—å· */
            margin-right: 10px;
            color: var(--theme-text-primary);
            /* Use CSS variable for text color */
            white-space: nowrap;
            /* é˜²æ­¢â€œå½“å‰æ•°é‡/ç»“æ„:â€å’Œâ€œLast Change:â€æ¢è¡Œ */
        }

        .backup-stats .stats-value {
            color: var(--theme-text-primary);
            /* Use CSS variable for text color */
            font-size: 12px;
            /* ç¼©å°å­—å· */
            margin-top: 1.5px;
            /* å¾®è°ƒå¯¹é½ */
        }

        .backup-stats .time-value {
            color: var(--theme-success-color);
            /* æ ‡è®°æ—¶é—´ä¸ºç»¿è‰² */
            font-size: 12px;
            /* ç¼©å°å­—å· */
            margin-top: 1.5px;
            /* å¾®è°ƒå¯¹é½ */
        }

        /* çŠ¶æ€æ ‡é¢˜æ ·å¼ */
        .status-headers {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            margin-bottom: 0;
            padding: 0 10px;
        }

        .status-headers .header-item {
            flex: 1;
            font-size: 14px;
            font-weight: 600;
            color: var(--theme-text-primary);
            /* Use CSS variable for text color */
            min-width: 150px;
            text-align: center;
        }

        .status-headers .header-item:last-child {
            text-align: right;
        }

        /* å¤‡ä»½ä¿¡æ¯åŒºåŸŸ */
        .sync-info {
            margin-bottom: 15px;
        }

        .sync-direction-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 5px;
        }

        .auto-sync-control {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            margin: 0;
            padding: 0;
            height: 24px;
            /* å›ºå®šé«˜åº¦ */
            line-height: 24px;
            /* ç¡®ä¿æ–‡å­—å‚ç›´å±…ä¸­ */
        }

        .auto-sync-control .setting-label {
            font-size: 14px;
            color: var(--theme-text-primary);
            /* Use CSS variable for text color */
            display: flex;
            align-items: center;
            margin: 0;
            padding: 0;
            height: 24px;
            /* å›ºå®šé«˜åº¦ */
            line-height: 24px;
            /* ç¡®ä¿æ–‡å­—å‚ç›´å±…ä¸­ */
        }

        .auto-sync-control .setting-tip {
            font-size: 14px;
            color: var(--theme-text-secondary);
            /* Use CSS variable for text color */
            margin: 0;
            padding: 0;
            height: 24px;
            /* å›ºå®šé«˜åº¦ */
            line-height: 24px;
            /* ç¡®ä¿æ–‡å­—å‚ç›´å±…ä¸­ */
        }

        .highlight-text {
            color: var(--theme-success-color);
            /* Use CSS variable for text color */
            font-weight: 500;
        }

        /* å¼€å…³æŒ‰é’®å®¹å™¨è°ƒæ•´ */
        .switch {
            position: relative;
            display: inline-block;
            width: 36px;
            height: 18px;
            margin-left: 10px;
            margin-top: 6px;
            /* å¢åŠ é¡¶éƒ¨å¤–è¾¹è·åˆ°6px */
        }

        /* å¼€å…³æŒ‰é’®çš„æ»‘å—è°ƒæ•´ */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--theme-switch-bg);
            /* Use CSS variable for background color */
            transition: .4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 18px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 2px;
            bottom: 2px;
            background-color: var(--theme-switch-slider-bg);
            /* Use CSS variable for background color */
            transition: .4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: var(--theme-switch-bg-checked);
            /* Use CSS variable for background color */
        }

        /* ç§»é™¤å¼€å…³æŒ‰é’®çš„ç„¦ç‚¹æ¡† */
        .switch input:focus {
            outline: none;
            box-shadow: none;
            border-color: transparent;
        }

        input:checked+.slider:before {
            transform: translateX(18px);
            /* è°ƒæ•´æ»‘å—ç§»åŠ¨è·ç¦» */
        }

        /* è®¾ç½®é¡¹å®¹å™¨ */
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px;
        }

        .setting-label {
            font-size: 14px;
            color: var(--theme-text-primary);
            /* Use CSS variable for text color */
            margin-right: 10px;
        }

        .setting-tip {
            font-size: 12px;
            color: var(--theme-text-secondary);
            /* Use CSS variable for text color */
            margin-left: 10px;
        }

        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-section {
            flex: 1;
            width: 100%;
            padding: 20px 25px;
            /* ä¿ç•™å†…è¾¹è· */
            background-color: var(--theme-bg-elevated);
            /* Use CSS variable for background color */
            border-radius: 0;
            /* ç§»é™¤åœ†è§’ */
            box-shadow: none;
            /* ç§»é™¤é˜´å½± */
            position: relative;
            margin: 0 auto;
            /* æ°´å¹³å±…ä¸­ */
            box-sizing: border-box;
            /* ç¡®ä¿paddingä¸ä¼šå¢åŠ æ€»å®½åº¦ */
        }

        /* å¤‡ä»½å†å²è®°å½•åŒºåŸŸ */
        .sync-history {
            margin-top: 20px;
            padding: 12px 20px;
            /* å·¦å³å†…è¾¹è·ä¸€è‡´ */
            background-color: var(--theme-bg-elevated);
            /* Use CSS variable for background color */
            border-radius: 8px;
            border: 1px solid var(--theme-border-primary);
            /* Use CSS variable for border color */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            /* å¢åŠ é˜´å½±æ•ˆæœ */
            box-sizing: border-box;
            /* ç¡®ä¿paddingä¸ä¼šå¢åŠ æ€»å®½åº¦ */
            position: relative;
            /* æ·»åŠ ç›¸å¯¹å®šä½ */
            z-index: 1;
            /* ç¡®ä¿é˜´å½±æ•ˆæœå¯è§ */
        }

        .sync-history h3 {
            font-size: 14px;
            margin: 0 0 8px 0;
            /* å‡å°åº•éƒ¨é—´è· */
            color: var(--theme-text-primary);
            /* Use CSS variable for text color */
            font-weight: 500;
            position: relative;
            /* æ·»åŠ ç›¸å¯¹å®šä½ */
            z-index: 2;
            /* ç¡®ä¿æ ‡é¢˜åœ¨é˜´å½±ä¹‹ä¸Š */
        }

        /* å†å²è®°å½•åˆ—è¡¨ */
        .history-list {
            height: 320px;
            /* ä»250pxå¢åŠ åˆ°320px */
            overflow-y: auto;
            /* å‚ç›´æ»šåŠ¨ */
            display: flex;
            flex-direction: column;
            /* æ”¹ä¸ºæ­£å¸¸çš„ä»ä¸Šåˆ°ä¸‹æ’åˆ— */
            position: relative;
            /* æ·»åŠ ç›¸å¯¹å®šä½ */
            z-index: 2;
            /* ç¡®ä¿åˆ—è¡¨åœ¨é˜´å½±ä¹‹ä¸Š */
            border: 1px solid var(--theme-border-primary);
            /* Use CSS variable for border color */
            border-radius: 4px;
            /* åœ†è§’è¾¹æ¡† */
        }

        /* åˆ—è¡¨æ ‡é¢˜è¡Œ */
        .history-header {
            display: flex;
            justify-content: flex-start;
            gap: 8px;
            padding: 6px 5px;
            /* è¿›ä¸€æ­¥å‡å°å·¦å³å†…è¾¹è· */
            border-bottom: 2px solid var(--theme-border-primary);
            position: sticky;
            top: 0;
            background-color: var(--theme-bg-secondary);
            z-index: 3;
        }

        .history-header .header-item.header-action {
            flex: 0 0 34px;
            min-width: 34px;
            padding: 0;
            text-align: center;
        }

        .history-header .header-item.header-ops {
            flex: 0 0 62px;
            min-width: 62px;
            padding: 0;
            text-align: center;
        }

        .history-header .header-item {
            flex: 1;
            text-align: center;
            font-size: 12px;
            /* ç¼©å°å­—ä½“å¤§å° */
            font-weight: 600;
            color: var(--theme-text-primary);
            min-width: 0;
            /* è¿›ä¸€æ­¥å‡å°æœ€å°å®½åº¦ */
            /* ç§»é™¤ä»»ä½•å¯èƒ½çš„è¾¹ç•Œ */
            border: none;
            padding: 0;
            /* æ·»åŠ å°çš„å·¦å³padding */
            margin: 0;
        }

        /* è®©â€œæ—¶é—´ä¸å¤‡æ³¨ / Time & Notesâ€è¿™ä¸€æ æ•´ä½“ç•¥å‘å³åç§»ä¸€ç‚¹ */
        .history-header .header-item:nth-child(2) {
            padding-left: 12px;
        }

        /* å†å²è®°å½•é¡¹ */
        .history-item {
            padding: 8px 5px;
            /* å‡å°å·¦å³padding */
            border-bottom: 1px solid var(--theme-border-primary);
            display: flex;
            justify-content: flex-start;
            gap: 8px;
            /* ä½¿å…ƒç´ å‡åŒ€åˆ†å¸ƒ */
            align-items: center;
            /* å‚ç›´å±…ä¸­ */
            position: relative;
            cursor: pointer;
        }

        .history-item-action {
            flex: 0 0 34px;
            min-width: 34px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .history-item-ops {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 0 0 62px;
            min-width: 62px;
        }

        .history-ops-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        /* å†å²è®°å½•é¡¹çš„å…ƒç´  - åªä¿ç•™ä¸¤æ  */
        .history-item-time,
        .history-item-count {
            flex: 1;
            text-align: center;
            padding: 0;
            /* æ·»åŠ å°çš„å·¦å³padding */
            overflow: visible;
            min-width: 0;
            /* è¿›ä¸€æ­¥å‡å°æœ€å°å®½åº¦ */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: none;
            margin: 0;
        }

        .history-item-time {
            padding-left: 12px;
        }

        /* ç¡®ä¿å†å²è®°å½•å†…å®¹æ¢è¡Œæ—¶çš„å¯¹é½ */
        .history-item-count>div {
            width: 100%;
        }

        /* å†å²è®°å½•é¡¹æ‚¬åœæ•ˆæœ */
        .history-item:hover {
            background-color: var(--theme-hover-bg);
        }

        /* å†å²è®°å½•é¡¹æœ€åä¸€é¡¹æ— åº•éƒ¨è¾¹æ¡† */
        .history-item:last-child {
            border-bottom: none;
        }

        /* è¯¦æƒ…æŒ‰é’®æ‚¬æµ®æ•ˆæœï¼šæ¡ç›®æ‚¬æµ®æ—¶æŒ‰é’®å˜æ¸…æ™° */
        .details-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 2px;
            height: 18px;
            padding: 0 4px;
            border-radius: 5px;
            border: 1px solid var(--theme-border-primary);
            background: var(--theme-bg-secondary);
            color: var(--theme-text-secondary);
            cursor: pointer;
            opacity: 0.35;
            transition: opacity 0.2s, color 0.2s, border-color 0.2s, background-color 0.2s, transform 0.2s;
        }

        .history-item:hover .details-btn {
            opacity: 1;
        }

        .details-btn:hover {
            color: var(--theme-accent-color);
            border-color: var(--theme-accent-color);
            background: var(--theme-bg-elevated);
            transform: translateY(-1px);
        }

        .details-btn:active {
            transform: translateY(0);
        }

        .details-btn .details-seq {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-variant-numeric: tabular-nums;
            font-weight: 700;
            font-size: 11px;
            line-height: 1;
        }

        .details-btn .details-jump-icon {
            width: 10px;
            height: 10px;
            fill: currentColor;
            flex: 0 0 auto;
            display: block;
        }

        .history-jump-action-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 29px;
            height: 18px;
            padding: 0;
            border-radius: 5px;
            border: 1px solid var(--theme-border-primary);
            background: var(--theme-bg-secondary);
            color: var(--theme-text-secondary);
            cursor: pointer;
            opacity: 0.45;
            transition: opacity 0.2s, color 0.2s, border-color 0.2s, background-color 0.2s, transform 0.2s;
        }

        .history-item:hover .history-jump-action-btn {
            opacity: 1;
        }

        .history-jump-action-btn:hover {
            color: var(--theme-accent-color);
            border-color: var(--theme-accent-color);
            background: var(--theme-bg-elevated);
            transform: translateY(-1px);
        }

        .history-jump-action-btn:active {
            transform: translateY(0);
        }

        .history-jump-action-btn i {
            font-size: 11px;
            line-height: 1;
        }

        .sync-history-pager {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        /* å¤‡æ³¨å¯ç¼–è¾‘çŠ¶æ€çš„æ‚¬æµ®æ•ˆæœ */
        .editable-note:hover {
            border-color: #aaa !important;
        }

        .editable-note {
            cursor: text;
        }

        /* NEW: Base style for history columns */
        .history-col {
            flex: 1;
            /* Distribute space equally */
            display: flex;
            align-items: center;
            /* Vertically center content within the column div itself */
            font-size: 12px;
            white-space: nowrap;
            min-width: 0;
            /* Allow shrinking */
        }

        /* NEW: Specific styles for each column */
        .time-col {
            justify-content: center;
            /* Align time to the center */
            color: var(--theme-success-color);
            min-width: 140px;
            /* Adjust min-width as needed */
            flex-shrink: 0;
            /* Prevent time column from shrinking too much */
        }

        .stats-col {
            justify-content: center;
            /* Center bookmark stats */
            flex-grow: 2;
            /* Allow stats column to take more space if needed */
        }

        /* Ensure nested stats div aligns correctly */
        .stats-col .bookmark-stats {
            display: flex;
            justify-content: center;
            align-items: center;
            /* Center items within the stats div */
            gap: 4px;
            margin: 0;
            padding: 0;
            width: 100%;
            /* Ensure it takes full width of its container */
        }

        .stats-col .bookmark-stats span {
            margin: 0;
            white-space: nowrap;
            color: var(--theme-text-secondary);
        }

        .status-col {
            justify-content: center;
            /* Align status to the center */
            color: var(--theme-success-color);
            min-width: 150px;
            /* Adjust as needed */
        }

        /* Apply error/locked colors to status column */
        .status-col.error {
            color: var(--theme-error-color);
        }

        .status-col.locked {
            color: var(--theme-warning-color);
        }

        .status-col.locked::before {
            content: "ğŸ”’ ";
            margin-right: 4px;
        }

        .history-stat-row {
            /* margin-top: 4px; removed for vertical centering */
            display: flex;
            justify-content: center;
        }

        .history-stat-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 3px 6px;
            border-radius: 6px;
            border: 1px solid var(--theme-border-primary);
            background: var(--theme-bg-secondary);
            font-size: 11px;
            color: var(--theme-text-secondary);
            white-space: nowrap;
        }

        .history-stat-badge.multi-line {
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        .history-stat-line {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            justify-content: center;
            width: 100%;
        }

        .history-stat-badge.multi-line.single-top {
            align-items: center;
        }

        .history-stat-badge.multi-line.single-top .history-stat-line:first-child {
            justify-content: center;
            width: 100%;
        }

        .history-stat-badge.no-change {
            color: var(--theme-text-tertiary);
        }

        .history-stat-badge.first {
            color: var(--theme-success-color);
        }

        .history-stat-label {
            color: var(--theme-text-secondary);
        }

        .history-stat-color {
            font-weight: 600;
        }

        .history-stat-color.added {
            color: #4CAF50;
        }

        .history-stat-color.deleted {
            color: #F44336;
        }

        .history-stat-color.moved {
            color: #2196F3;
        }

        .history-stat-color.modified {
            color: #FF9800;
        }

        .history-stat-sep {
            color: var(--theme-text-tertiary);
        }

        /* ç¾åŒ–æ»šåŠ¨æ¡æ ·å¼ */
        .history-list::-webkit-scrollbar {
            width: 6px;
            /* æ»šåŠ¨æ¡å®½åº¦ */
        }

        .history-list::-webkit-scrollbar-track {
            background: var(--theme-scrollbar-track);
            /* æ»šåŠ¨æ¡è½¨é“ */
            border-radius: 3px;
        }

        .history-list::-webkit-scrollbar-thumb {
            background: var(--theme-scrollbar-thumb);
            /* æ»šåŠ¨æ¡æ»‘å— */
            border-radius: 3px;
        }

        .history-list::-webkit-scrollbar-thumb:hover {
            background: var(--theme-scrollbar-thumb-hover);
            /* æ»šåŠ¨æ¡æ»‘å—æ‚¬åœ */
        }

        /* é…ç½®åŒºåŸŸæ ·å¼ */
        .config-section {
            margin-bottom: 20px;
            border: 1px solid var(--theme-border-primary);
            border-radius: 8px;
            overflow: hidden;
            background-color: var(--theme-bg-elevated);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            width: 100%;
            /* ç¡®ä¿å®½åº¦100% */
            box-sizing: border-box;
            /* ç¡®ä¿paddingä¸ä¼šå¢åŠ æ€»å®½åº¦ */
        }

        /* é…ç½®å¤´éƒ¨æ ·å¼ */
        .config-header {
            padding: 15px;
            background-color: var(--theme-bg-secondary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .config-header:hover {
            background-color: var(--theme-hover-bg);
        }

        .config-header h2 {
            margin: 0;
            font-size: 15px;
            color: var(--theme-text-primary);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ç¾åŒ–çŠ¶æ€ç‚¹æ ·å¼ */
        .config-header .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .status-dot.configured {
            background-color: var(--theme-success-color);
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
        }

        .status-dot.not-configured {
            background-color: var(--theme-error-color);
            box-shadow: 0 0 5px rgba(255, 68, 68, 0.5);
        }

        .config-content {
            padding: 20px;
            border-top: 1px solid var(--theme-border-primary);
            display: none;
            animation: slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .toggle-icon {
            width: 20px;
            height: 20px;
            position: relative;
            transition: transform 0.3s ease;
        }

        .toggle-icon::before,
        .toggle-icon::after {
            content: '';
            position: absolute;
            background-color: var(--theme-icon-color);
            transition: transform 0.3s ease;
        }

        .toggle-icon::before {
            width: 2px;
            height: 12px;
            left: 9px;
            top: 4px;
        }

        .toggle-icon::after {
            width: 12px;
            height: 2px;
            left: 4px;
            top: 9px;
        }

        /* éæŠ˜å çŠ¶æ€æ—¶éšè—å‚ç›´çº¿ï¼Œå½¢æˆå‡å· */
        .config-header:not(.collapsed) .toggle-icon::before {
            transform: scaleY(0);
        }

        /* æŠ˜å çŠ¶æ€æ—¶æ˜¾ç¤ºå‚ç›´çº¿ï¼Œå½¢æˆåŠ å· */
        .config-header.collapsed .toggle-icon::before {
            transform: scaleY(1);
        }

        /* å¤‡ä»½ä¿¡æ¯å¡ç‰‡æ ·å¼ */
        .sync-info-card {
            margin-top: 10px;
            padding: 10px;
            background: var(--theme-bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--theme-border-primary);
            text-align: left;
            width: 100%;
            box-sizing: border-box;
        }

        .sync-info-card h3 {
            margin: 0 0 12px 0;
            font-size: 14px;
            color: var(--theme-text-primary);
            text-align: center;
            font-weight: 500;
        }

        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
            color: var(--theme-text-secondary);
            gap: 8px;
        }

        .info-icon {
            font-style: normal;
            font-size: 14px;
        }

        .info-details {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed var(--theme-border-primary);
            text-align: left;
            /* æ·»åŠ å·¦å¯¹é½ */
            padding-left: 5px;
            /* æ·»åŠ å·¦ä¾§å†…è¾¹è· */
        }

        .info-details p {
            margin: 4px 0;
            font-size: 12px;
            color: var(--theme-text-secondary);
            line-height: 1.4;
            text-align: left;
            /* ç¡®ä¿æ®µè½ä¹Ÿæ˜¯å·¦å¯¹é½ */
        }

        .bookmark-status {
            margin-top: 10px;
            padding: 8px;
            background: var(--theme-bg-tertiary);
            border-radius: 4px;
            font-size: 13px;
            color: var(--theme-text-primary);
        }

        .bookmark-status div {
            margin: 3px 0;
        }

        /* ä¿®æ”¹æ ‡é¢˜åŒºåŸŸæ ·å¼ */
        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            /* å‡å°åº•éƒ¨é—´è· */
            gap: 15px;
        }

        /* è°ƒæ•´æœç´¢å®¹å™¨æ ·å¼ */
        .search-container {
            margin-bottom: 20px;
            position: relative;
        }

        /* è°ƒæ•´æœç´¢æ¡†æ ·å¼ */
        .search-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--theme-input-border);
            border-radius: 8px;
            font-size: 14px;
            background-color: var(--theme-input-bg);
            transition: border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* æ¸…é™¤æŒ‰é’®æ ·å¼ */
        .clear-search {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            cursor: pointer;
            display: none;
            /* é»˜è®¤éšè— */
            opacity: 0.6;
            transition: opacity 0.3s;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--theme-svg-icon-stroke-color-path)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>') no-repeat center;
        }

        .clear-search:hover {
            opacity: 1;
        }

        .clear-search.visible {
            display: block;
        }

        .search-input:focus {
            border-color: var(--theme-input-focus-border);
            outline: none;
            box-shadow: 0 4px 8px var(--theme-input-focus-shadow);
        }

        /* è°ƒæ•´æœç´¢ç»“æœå®¹å™¨ä½ç½® */
        .search-results {
            position: absolute;
            top: calc(100% + 5px);
            left: 0;
            right: 0;
            max-height: 400px;
            overflow-y: auto;
            background: var(--theme-bg-elevated);
            border: 1px solid var(--theme-border-primary);
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }

        /* æœç´¢ç»“æœé¡¹ */
        .search-result-item {
            padding: 10px;
            display: flex;
            align-items: center;
            position: relative;
            gap: 10px;
            cursor: pointer;
            border-bottom: 1px solid var(--theme-border-primary);
            background-color: var(--theme-bg-elevated);
            transition: background-color 0.2s ease;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background-color: var(--theme-hover-bg);
        }

        .favicon {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }

        .result-content {
            flex: 1;
            min-width: 0;
        }

        .result-title {
            font-size: 14px;
            color: var(--theme-text-primary);
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .result-url {
            font-size: 12px;
            color: var(--theme-text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .no-results {
            padding: 15px;
            text-align: center;
            color: var(--theme-text-secondary);
            font-size: 14px;
            background-color: var(--theme-bg-elevated);
            border-radius: 6px;
        }

        /* æœç´¢æ¡†æ¿€æ´»çŠ¶æ€æ—¶çš„å®¹å™¨æ ·å¼ */
        .search-container:focus-within {
            z-index: 1000;
        }

        .search-container:focus-within .search-input {
            border-color: #4CAF50;
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.15);
        }

        /* é‡æ„ï¼šå¯†ç è¾“å…¥æ¡†ç»„åˆå®¹å™¨ï¼ˆæ¨¡æ‹ŸInputå¤–è§‚ï¼‰ */
        .password-group-wrapper {
            display: flex;
            align-items: center;
            width: 100%;
            background-color: var(--theme-input-bg);
            border: 1px solid var(--theme-input-border);
            border-radius: 8px;
            padding: 2px;
            /* ç§»é™¤å¤šä½™å†…è¾¹è·ï¼Œè®©å†…å®¹è´´è¾¹ */
            transition: border-color 0.3s, box-shadow 0.3s;
            box-sizing: border-box;
            position: relative;
        }

        .password-group-wrapper:focus-within {
            border-color: var(--theme-input-focus-border);
            box-shadow: 0 0 0 3px var(--theme-input-focus-shadow);
        }

        /* å†…éƒ¨çœŸæ­£çš„è¾“å…¥æ¡†ï¼šå»é™¤æ‰€æœ‰è¾¹æ¡†å’ŒèƒŒæ™¯ï¼Œå¡«æ»¡å‰©ä½™ç©ºé—´ */
        .password-group-wrapper input {
            flex: 1;
            border: none !important;
            box-shadow: none !important;
            background: transparent !important;
            outline: none !important;
            padding: 10px 8px !important;
            /* å¾®è°ƒè¾“å…¥æ¡†å†…è¾¹è· */
            width: 0 !important;
            /* å…è®¸Flexæ”¶ç¼© */
            min-width: 0 !important;
            height: auto !important;
            margin: 0 !important;
        }

        /* å†…éƒ¨çš„æ˜¾éšæŒ‰é’®ï¼šé™æ€å®šä½ï¼ŒFlexå¸ƒå±€è‡ªåŠ¨å¯¹é½ */
        .password-group-wrapper .password-visibility-btn {
            position: static !important;
            transform: none !important;
            width: auto !important;
            /* å®Œå…¨ç”±å›¾æ ‡å†³å®šå®½åº¦ */
            min-width: 0 !important;
            /* ç§»é™¤æœ€å°å®½åº¦é™åˆ¶ */
            flex: 0 0 auto !important;
            /* ä¸ä¼¸ç¼©ï¼Œä¿æŒåŸå§‹å†…å®¹å¤§å° */
            height: 32px;
            margin-left: 2px;
            margin-right: 12px;
            /* å‘å·¦å¾®è°ƒï¼šè¿›ä¸€æ­¥å¢åŠ å³ä¾§é—´è·è‡³12px */
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--theme-text-secondary);
            font-size: 13px;
            opacity: 0.7;
            border-radius: 4px;
            padding: 0 !important;
            /* 0å†…è¾¹è·ï¼Œä¸¥ä¸åˆç¼ */
            transition: all 0.2s;
        }

        .password-group-wrapper .password-visibility-btn:hover {
            opacity: 1;
            background-color: var(--theme-bg-tertiary);
        }

        /* å†æ¬¡ç¡®ä¿åŸç”ŸæŒ‰é’®éšè— */
        .password-group-wrapper input::-ms-reveal,
        .password-group-wrapper input::-ms-clear {
            display: none !important;
        }

        /* å±é™©æŒ‰é’®æ ·å¼ */
        .danger-button {
            background-color: #dc3545;
            color: white;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .danger-button:hover {
            background-color: #c82333;
        }

        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 12px;
            box-sizing: border-box;
        }

        .modal-content {
            position: relative;
            background-color: var(--theme-bg-primary);
            margin: 0;
            padding: 20px;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .modal-content h3 {
            margin: 0 0 15px 0;
            color: var(--theme-text-primary);
        }

        .modal-content ul {
            margin: 10px 0;
            padding-left: 20px;
            color: var(--theme-text-secondary);
        }

        .warning-text {
            color: var(--theme-error-color);
            font-weight: 500;
            margin: 15px 0;
        }

        .normal-button {
            background-color: #6c757d;
            color: white;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .normal-button:hover {
            background-color: #5a6268;
        }

        .direction.locked {
            color: #ff9800;
        }

        .history-item .direction.locked::before {
            content: "ğŸ”’ ";
            margin-right: 4px;
        }

        /* ä¿®æ”¹é€‰ä¸­é¡¹çš„æ ·å¼ */
        .search-result-item.selected {
            background-color: #f0f2f5;
            position: relative;
        }

        .search-result-item.selected::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: -1px;
            height: 2px;
            background-color: #4CAF50;
            z-index: 1;
        }

        /* ä¿®æ”¹hoverçŠ¶æ€çš„èƒŒæ™¯è‰²ï¼Œç¡®ä¿ä¸selectedçŠ¶æ€åŒºåˆ† */
        .search-result-item:hover {
            background-color: #f5f7fa;
        }

        /* å½“é€‰ä¸­é¡¹æ˜¯æœ€åä¸€ä¸ªæ—¶ï¼Œç§»é™¤åŸæœ‰çš„åº•éƒ¨è¾¹æ¡† */
        .search-result-item.selected:last-child {
            border-bottom: none;
        }

        .search-results {
            /* ç¡®ä¿ç»“æœå®¹å™¨æœ‰å›ºå®šé«˜åº¦å’Œæ»šåŠ¨æ¡ */
            max-height: 400px;
            overflow-y: auto;
            scrollbar-width: thin;
        }

        /* ç¾åŒ–æ»šåŠ¨æ¡ */
        .search-results::-webkit-scrollbar {
            width: 6px;
        }

        .search-results::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .search-results::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }

        .search-results::-webkit-scrollbar-thumb:hover {
            background: #666;
        }

        /* æ·»åŠ æ“ä½œæŒ‰é’®å®¹å™¨æ ·å¼ */
        .result-actions {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: none;
            gap: 8px;
            background: white;
            padding: 4px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .search-result-item:hover .result-actions {
            display: flex;
        }

        .action-button {
            padding: 4px 8px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            color: white;
            transition: background-color 0.2s ease, opacity 0.2s ease;
        }

        .edit-button {
            background-color: #4CAF50;
        }

        .edit-button:hover {
            background-color: #45a049;
        }

        .delete-button {
            background-color: #f44336;
        }

        .delete-button:hover {
            background-color: #d32f2f;
        }

        /* ç¼–è¾‘å¯¹è¯æ¡†æ ·å¼ */
        .edit-dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            display: none;
            width: 90%;
            max-width: 500px;
        }

        .edit-dialog input {
            width: 100%;
            margin-bottom: 10px;
        }

        .edit-dialog-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }

        /* åœ¨ popup.html çš„ style æ ‡ç­¾ä¸­æ·»åŠ  */
        .sync-info>div:first-child,
        .sync-direction-row>span:first-child {
            display: none;
        }

        .reminder-text {
            color: #FF8C00;
            font-weight: 500;
        }

        .bookmark-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 12px;
            color: #666;
        }

        .bookmark-stats span {
            margin: 0 5px;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        /* è·¯å¾„å®¹å™¨æ ·å¼ */
        .path-container {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .browse-button {
            margin-left: 8px;
            padding: 6px 12px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            color: var(--theme-text-primary);
            cursor: pointer;
            font-size: 12px;
            flex-shrink: 0;
        }

        .browse-button:hover {
            background-color: #e9ecef;
        }

        /* å¼€å…³æŒ‰é’®ä½ç½®è°ƒæ•´ */
        .form-group .setting-label {
            font-size: 14px;
            color: var(--theme-text-primary);
            margin-right: 10px;
        }

        .form-group .setting-tip {
            font-size: 12px;
            color: #666;
            margin-left: 10px;
        }

        /* æœ¬åœ°é…ç½®æ¡†æ ·å¼ */
        #localConfigContent {
            padding: 10px 20px;
            border-top: 1px solid var(--theme-border-primary);
            display: none;
            animation: slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* æ–‡ä»¶å¤¹æ‹–æ”¾åŒºåŸŸæ ·å¼ */
        .folder-dropzone {
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            min-height: 120px;
            border: 2px dashed #ccc;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            margin-bottom: 20px;
            margin-top: 10px;
            transition: border-color 0.3s ease, background-color 0.3s ease;
            cursor: pointer;
            background-color: var(--theme-bg-primary);
            position: relative;
        }

        .folder-dropzone:hover {
            border-color: #4285f4;
            background-color: var(--theme-bg-primary);
        }

        .folder-dropzone.drag-over {
            border-color: #4285f4;
            background-color: #e8f4fc;
            box-shadow: 0 0 10px rgba(66, 133, 244, 0.3);
            transform: scale(1.01);
        }

        .folder-dropzone.success {
            border-color: #4CAF50;
            background-color: #f0fff0;
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.2);
        }

        .folder-dropzone.error {
            border-color: #f44336;
            background-color: #fff0f0;
            box-shadow: 0 0 8px rgba(244, 67, 54, 0.2);
        }

        .dropzone-icon {
            font-size: 38px;
            color: #888;
            margin-bottom: 12px;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .folder-dropzone:hover .dropzone-icon {
            color: #4285f4;
        }

        .folder-dropzone.success .dropzone-icon {
            color: #4CAF50;
        }

        .folder-dropzone.error .dropzone-icon {
            color: #f44336;
        }

        .dropzone-text {
            text-align: center;
            color: #666;
            font-size: 14px;
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        .folder-dropzone.success .dropzone-text {
            color: #4CAF50;
            font-weight: 500;
        }

        .folder-dropzone.error .dropzone-text {
            color: #f44336;
            font-weight: 500;
        }

        .selected-path {
            margin-top: 12px;
            padding: 8px 12px;
            background-color: var(--theme-bg-primary);
            border-radius: 4px;
            font-size: 14px;
            border: 1px solid #d1e6ff;
            display: none;
            word-break: break-all;
            width: 100%;
            max-width: 450px;
            text-align: center;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .folder-dropzone.success .selected-path {
            background-color: #e8f5e9;
            border-color: #a5d6a7;
        }

        @keyframes breathe {
            0% {
                border-color: #FFF2CC;
                box-shadow: 0 0 5px #FFEB99;
            }

            50% {
                border-color: #FFD700;
                box-shadow: 0 0 15px #FFD700;
            }

            100% {
                border-color: #FFF2CC;
                box-shadow: 0 0 5px #FFEB99;
            }
        }

        /* @keyframes fadeOutBorder {
            0% { border: 3px solid #FFF2CC; box-shadow: 0 0 5px #FFEB99; }
            100% { border: 3px solid transparent; box-shadow: 0 0 0 transparent; }
        } */
        /* Removing this block */

        .breathe-animation {
            animation: breathe 1s 1;
            /* Removed fadeOutBorder */
            border: 3px solid #FFF2CC;
        }

        .close-button:hover {
            background-color: var(--theme-bg-tertiary);
            color: var(--theme-text-secondary);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
            transform: translateY(-1px);
        }

        /* å‘¼å¸åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
            }
        }

        .backup-mode-switch.manual~.manual-buttons .backup-button:not(.disabled) {
            animation: pulse 2s infinite;
        }

        /* ç²¾ç¾çš„é›†æˆå¼€å…³æ ·å¼ */
        .backup-mode-switch {
            position: relative;
            width: 100%;
            /* éšå®¹å™¨å®½åº¦è‡ªé€‚åº” */
            margin: 0;
            /* å·¦å¯¹é½ */
            height: 110px;
            /* çºµå‘å¸ƒå±€é«˜åº¦æå‡ï¼Œå®¹çº³åŒæ’æ“ä½œæŒ‰é’® */
            background: linear-gradient(to bottom, #e8f5e9, #f0f0f0);
            border-radius: 21px;
            display: flex;
            flex-direction: column;
            /* çºµå‘æ’åˆ— */
            align-items: stretch;
            /* å æ»¡æ¨ªå‘å®½åº¦ */
            cursor: default;
            /* ä¸å†æ•´å—åˆ‡æ¢æ¨¡å¼ï¼Œä»…å­åŒºåŸŸå¯ç‚¹å‡» */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: visible;
            /* å…è®¸å†…éƒ¨tooltipæº¢å‡º */
            transition: box-shadow 0.5s ease;
        }

        html[data-theme="dark"] .backup-mode-switch {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .backup-mode-switch.auto {
            background: linear-gradient(to bottom, #e8f5e9, #f0f0f0);
        }

        html[data-theme="dark"] .backup-mode-switch.auto {
            background: linear-gradient(to bottom, #1a3a1a, #2d2d2d);
        }

        .backup-mode-switch.manual {
            background: linear-gradient(to bottom, #f0f0f0, #e6f7ff);
        }

        html[data-theme="dark"] .backup-mode-switch.manual {
            background: linear-gradient(to bottom, #2d2d2d, #1a3a5f);
        }

        .backup-mode-slider {
            position: absolute;
            width: calc(100% - 6px);
            /* çºµå‘æ—¶å æ»¡å®½åº¦ï¼Œç•™3pxè¾¹è· */
            height: calc(50% - 6px);
            /* å å®¹å™¨çš„ä¸€åŠé«˜åº¦ï¼Œå¹¶ç•™ä¸Šä¸‹è¾¹è· */
            border-radius: 18px;
            top: 3px;
            left: 3px;
            background: white;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
            /* transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); */
            /* ç§»é™¤æ­¤è¡Œä»¥å–æ¶ˆåŠ è½½æ—¶çš„æ»‘åŠ¨åŠ¨ç”» */
            z-index: 1;
        }

        html[data-theme="dark"] .backup-mode-slider {
            background: var(--dark-bg-elevated);
        }

        .backup-mode-switch.auto .backup-mode-slider {
            top: 3px;
            left: 3px;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
        }

        .backup-mode-switch.manual .backup-mode-slider {
            top: calc(50% + 3px);
            left: 3px;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.2);
        }

        .backup-mode-option {
            flex: 1;
            /* text-align: center; */
            /* Replaced by flex alignment */
            z-index: 2;
            font-size: 13px;
            font-weight: bold;
            transition: color 0.3s ease;
            padding: 6px 8px;
            /* çºµå‘æ—¶ç•¥å¢å†…è¾¹è·ä»¥ä¿æŒè§¦æ§é¢ç§¯ */
            position: relative;
            display: flex;
            /* Added for alignment */
            align-items: center;
            /* Added for vertical alignment */
            justify-content: center;
            /* Added for horizontal centering */
            white-space: nowrap;
            /* Added to prevent line breaks */
            overflow: hidden;
            /* Added to handle potential overflow */
            text-overflow: ellipsis;
            /* Added to show ... if text still overflows */
            cursor: pointer;
            /* åŒºåŸŸæœ¬èº«å¯ç‚¹å‡»åˆ‡æ¢æ¨¡å¼ */
        }

        .backup-mode-switch.auto .auto-option {
            color: #4CAF50;
        }

        .backup-mode-switch.auto .manual-option {
            color: #999;
        }

        .backup-mode-switch.manual .auto-option {
            color: #999;
        }

        .backup-mode-switch.manual .manual-option {
            color: #007AFF;
        }

        /* å¾®å°å›¾æ ‡åŠ¨ç”» */
        .option-icon {
            display: inline-block;
            margin-right: 5px;
            transition: transform 0.3s ease;
            /* vertical-align: middle; */
            /* Parent flex align-items handles this now */
        }

        .backup-mode-switch.auto .auto-option .option-icon {
            transform: scale(1.2);
        }

        .backup-mode-switch.manual .manual-option .option-icon {
            transform: scale(1.2);
        }

        /* æç¤ºæ–‡æœ¬æ ·å¼ */
        .mode-tip {
            margin-top: 6px;
            /* å‡å°ä¸Šè¾¹è· */
            font-size: 12px;
            /* å‡å°å­—ä½“ */
            color: var(--theme-text-secondary);
            text-align: center;
            padding: 6px 8px;
            /* å‡å°å†…è¾¹è· */
            border-radius: 4px;
            background-color: var(--theme-bg-secondary);
            transition: background-color 0.3s ease;
        }

        /* æ‰‹åŠ¨å¤‡ä»½æŒ‰é’®åŒºåŸŸ */
        .manual-buttons {
            margin-top: 12px;
            /* å‡å°ä¸Šè¾¹è· */
            display: flex;
            gap: 8px;
            /* å‡å°é—´è· */
            transition: opacity 0.3s ease;
        }

        .manual-buttons button {
            flex: 1;
            padding: 7px 10px;
            /* å‡å°å†…è¾¹è· */
            border: none;
            border-radius: 6px;
            font-weight: 500;
            font-size: 13px;
            cursor: pointer;
            transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* æ‰‹åŠ¨å¤‡ä»½æŒ‰é’®æ ·å¼ */
        .backup-button {
            background-color: #4CAF50;
            color: white;
            box-sizing: border-box;
            height: 32px;
            /* ç¡®ä¿ä¸¤ä¸ªæŒ‰é’®é«˜åº¦ä¸€è‡´ */
            line-height: 1;
        }

        .settings-button {
            background-color: var(--theme-bg-secondary);
            color: var(--theme-text-primary);
            border: 1px solid #ddd;
            padding: 7px 10px;
            /* å‡å°å†…è¾¹è· */
            border-radius: 6px;
            /* å‡å°åœ†è§’ */
            font-size: 13px;
            /* å‡å°å­—ä½“ */
            cursor: pointer;
            transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 12px;
            /* å‡å°ä¸Šè¾¹è· */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            box-sizing: border-box;
            height: 32px;
            /* ç¡®ä¿ä¸¤ä¸ªæŒ‰é’®é«˜åº¦ä¸€è‡´ */
            margin-bottom: 10px;
            /* å¢åŠ ä¸ä¸‹æ–¹æŒ‰é’®çš„é—´è· */
        }

        .settings-button:hover {
            background-color: var(--theme-settings-button-hover-bg);
            transform: translateY(-1px);
            /* å‡å°æ‚¬åœæ—¶çš„ä¸Šç§»è·ç¦» */
        }

        .settings-button:active {
            transform: translateY(1px);
        }

        .settings-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            /* å…è®¸æ‚¬åœä»¥æ˜¾ç¤ºtooltipï¼›ç‚¹å‡»ç”±disabledå±æ€§æ‹¦æˆª */
            pointer-events: auto;
        }

        /* é€šç”¨ï¼šè®¾ç½®æŒ‰é’®çš„æ°”æ³¡è¯´æ˜åœ¨æ‚¬åœæ—¶æ˜¾ç¤º */
        .settings-button:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        /* å…è®¸é€‰é¡¹å®¹å™¨æº¢å‡ºä»¥å‘ˆç°æ°”æ³¡ */
        .backup-mode-option {
            overflow: visible;
        }

        .backup-mode-option .option-label {
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* æ ¹æ®ä¸Šä¸‹åŠåŒºåˆ†åˆ«å®šä½tooltipï¼Œé¿å…è¢«æ•´ä½“å®¹å™¨è£å‰ª */
        .backup-mode-option.auto-option .settings-button .tooltip {
            /* æ”¹ä¸ºä¸ä¸‹åŠåŒºä¸€è‡´ï¼šæ°”æ³¡æ˜¾ç¤ºåœ¨æŒ‰é’®ä¸Šæ–¹ */
            bottom: calc(100% + 6px) !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            z-index: 10;
        }

        .backup-mode-option.manual-option .settings-button .tooltip {
            bottom: calc(100% + 6px) !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            z-index: 10;
        }

        /* ç»Ÿä¸€ä¸¤ä¸ªè®¾ç½®æŒ‰é’®çš„æ°”æ³¡ä¸ºåŠé€æ˜èƒŒæ™¯ */
        .backup-mode-option .settings-button .tooltip {
            background-color: rgba(0, 0, 0, 0.6) !important;
        }

        .manual-buttons button:hover {
            transform: translateY(-1px);
            /* å‡å°æ‚¬åœæ—¶çš„ä¸Šç§»è·ç¦» */
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
        }

        .manual-buttons button:active {
            transform: translateY(1px);
        }

        .manual-buttons button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        /* æ ç›®å¡ç‰‡åŒ–ï¼šä¸ºå·¦å³ä¸¤ä¸ªæ“ä½œå®¹å™¨æ·»åŠ å¡ç‰‡æ ·å¼ */
        #manualButtonsContainer,
        #autoButtonsContainer {
            background-color: var(--theme-bg-secondary);
            border: 1px solid var(--theme-border-primary);
            padding: 10px;
            border-radius: 8px;
        }

        html[data-theme="dark"] #manualButtonsContainer,
        html[data-theme="dark"] #autoButtonsContainer {
            border-color: var(--theme-border-secondary);
        }

        /* åˆå¹¶è‡³å·¦ä¾§UIï¼šåœ¨å¼€å…³å†…éƒ¨å¯¹é½æ“ä½œæŒ‰é’® */
        .backup-mode-option {
            justify-content: space-between;
        }

        .backup-mode-option .option-label {
            font-weight: 700;
            margin-left: 20px;
            /* æ ‡ç­¾å³ç§» */
        }

        .backup-mode-option .option-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* å½“å¤„äºæŸä¸ªæ¨¡å¼æ—¶ï¼Œå¦ä¸€ä¾§æ“ä½œåŒºåŸŸä¸æ‹¦æˆªç‚¹å‡»ï¼Œè®©å®¹å™¨æ¥ç®¡ä»¥åˆ‡æ¢æ¨¡å¼ */
        .backup-mode-switch.auto .manual-option .option-actions {
            pointer-events: none;
        }

        .backup-mode-switch.manual .auto-option .option-actions {
            pointer-events: none;
        }

        .backup-mode-switch #manualButtonsContainer,
        .backup-mode-switch #autoButtonsContainer {
            background: transparent;
            border: none;
            padding: 0;
            box-shadow: none;
            margin: 0;
        }

        /* çŠ¶æ€å¡ç‰‡æ ·å¼ */
        :root {
            /* è‡ªåŠ¨å¤‡ä»½æ¨¡å¼ - ç»¿è‰²ç³» */
            --theme-status-card-auto-bg: #e8f5e9;
            --theme-status-card-auto-text: #2e7d32;
            --theme-status-card-auto-border: #a5d6a7;
            --theme-status-card-auto-shadow: rgba(76, 175, 80, 0.1);

            /* æ‰‹åŠ¨å¤‡ä»½æ¨¡å¼ - è“è‰²ç³» */
            --theme-status-card-manual-bg: #e3f2fd;
            --theme-status-card-manual-text: #1976d2;
            --theme-status-card-manual-border: #90caf9;
            --theme-status-card-manual-shadow: rgba(33, 150, 243, 0.1);

            /* Status card overlay button (glass) */
            --theme-glass-action-bg: rgba(25, 118, 210, 0.18);
            --theme-glass-action-bg-hover: rgba(25, 118, 210, 0.24);
            --theme-glass-action-border: rgba(255, 255, 255, 0.55);
            --theme-glass-action-border-hover: rgba(255, 255, 255, 0.75);
            --theme-glass-action-shadow: rgba(0, 0, 0, 0.12);
        }

        html[data-theme="dark"] {
            /* è‡ªåŠ¨å¤‡ä»½æ¨¡å¼ - ç»¿è‰²ç³»ï¼ˆæ·±è‰²æ¨¡å¼ï¼‰*/
            --theme-status-card-auto-bg: #1b3a1b;
            --theme-status-card-auto-text: #81c784;
            --theme-status-card-auto-border: #388e3c;
            --theme-status-card-auto-shadow: rgba(76, 175, 80, 0.2);

            /* æ‰‹åŠ¨å¤‡ä»½æ¨¡å¼ - è“è‰²ç³»ï¼ˆæ·±è‰²æ¨¡å¼ï¼‰*/
            --theme-status-card-manual-bg: #1a3a5f;
            --theme-status-card-manual-text: #64b5f6;
            --theme-status-card-manual-border: #1976d2;
            --theme-status-card-manual-shadow: rgba(33, 150, 243, 0.2);

            /* Status card overlay button (glass) */
            --theme-glass-action-bg: rgba(255, 255, 255, 0.12);
            --theme-glass-action-bg-hover: rgba(255, 255, 255, 0.18);
            --theme-glass-action-border: rgba(255, 255, 255, 0.32);
            --theme-glass-action-border-hover: rgba(255, 255, 255, 0.42);
            --theme-glass-action-shadow: rgba(0, 0, 0, 0.35);
        }

        .status-card {
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .status-card.has-changes {
            align-items: center !important;
        }

        .status-card-change-summary {
            display: flex;
            flex-direction: column;
            gap: 6px;
            font-size: 12.5px;
            text-align: center;
            align-items: center;
        }

        .status-card-change-line {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: baseline;
            justify-content: center;
        }

        .status-card-change-item {
            display: inline-flex;
            align-items: baseline;
            gap: 6px;
        }

        #statusCardText {
            flex: 1;
            width: 100%;
            min-width: 0;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* å³ä¾§çŠ¶æ€å¡ç‰‡ï¼šæ ¹æ®æ¨¡å¼ç€è‰² */
        .status-card.auto-mode {
            background-color: var(--theme-status-card-auto-bg) !important;
            color: var(--theme-status-card-auto-text) !important;
            border: 1px solid var(--theme-status-card-auto-border) !important;
            box-shadow: 0 2px 8px var(--theme-status-card-auto-shadow) !important;
        }

        .status-card.manual-mode {
            background-color: var(--theme-status-card-manual-bg) !important;
            color: var(--theme-status-card-manual-text) !important;
            border: 1px solid var(--theme-status-card-manual-border) !important;
            box-shadow: 0 2px 8px var(--theme-status-card-manual-shadow) !important;
        }

        /* Manual backup overlay button (glass) */
        #manualBackupBtnOverlay {
            position: absolute;
            right: 12px;
            bottom: 12px;
            display: none;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 8px;
            border: 1px solid var(--theme-glass-action-border);
            background: var(--theme-glass-action-bg);
            backdrop-filter: blur(10px) saturate(160%);
            -webkit-backdrop-filter: blur(10px) saturate(160%);
            box-shadow: 0 8px 18px var(--theme-glass-action-shadow);
            cursor: pointer;
            user-select: none;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 0.2px;
            transition: transform 0.15s ease, background-color 0.15s ease, border-color 0.15s ease;
        }

        #manualBackupBtnOverlay:disabled {
            opacity: 0.65;
            cursor: default;
        }

        #manualBackupBtnOverlay.success-animating {
            pointer-events: none;
        }

        #manualBackupBtnOverlay:hover {
            background: var(--theme-glass-action-bg-hover);
            border-color: var(--theme-glass-action-border-hover);
            transform: translateY(-1px);
        }

        #manualBackupBtnOverlay:active {
            transform: translateY(0);
        }

        #manualBackupBtnOverlay i {
            color: rgba(255, 255, 255, 0.88);
            filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.18));
        }

        #manualBackupBtnOverlay #manualBackupBtnText {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.55));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.18));
        }

        .mode-tip.auto-tip {
            display: block;
        }

        .mode-tip.manual-tip {
            display: none;
        }

        .backup-mode-switch.manual~.mode-tip.auto-tip {
            display: none;
        }

        .backup-mode-switch.manual~.mode-tip.manual-tip {
            display: block;
        }

        /* å½“è¯­è¨€ä¸ºè‹±è¯­æ—¶ï¼Œä¸å†é™åˆ¶å³ä¾§çŠ¶æ€å®¹å™¨æœ€å¤§å®½åº¦ï¼ŒæŒ‰æ¯”ä¾‹è‡ªé€‚åº” */
        html[lang="en"] #rightStatusContainer {
            max-width: none !important;
        }

        /* å½“è¯­è¨€ä¸ºè‹±è¯­æ—¶ï¼Œè°ƒæ•´ç»Ÿè®¡æ ‡ç­¾å®½åº¦ä¸æ•´ä½“ä½ç½® */
        html[lang="en"] .backup-stats .stats-label {
            width: 90px !important;
        }

        html[lang="en"] .stats-text-container {
            margin-left: 10px !important;
        }

        /* å½“è¯­è¨€ä¸ºè‹±è¯­æ—¶ï¼Œæ ¡å‡†è·¯å¾„æŒ‰é’®æ–‡æœ¬å·¦å¯¹é½ */
        html[lang="en"] #calibratePathBtn {
            text-align: left !important;
        }

        /* ä¸­æ–‡æ¨¡å¼ï¼šå°†å³ä¾§è“è‰²çŠ¶æ€å®¹å™¨å·¦ç§»å¹¶ä¸ä¸Šæ–¹â€œæ‰‹åŠ¨å¤‡ä»½â€æŒ‰é’®å·¦è¾¹å¯¹é½ */
        html[lang="zh"] .backup-stats {
            grid-template-columns: 2fr 1fr !important;
            column-gap: 31px !important;
            /* ä¸Šæ–¹åŒºå—ä¸ºå·¦å³15pxé—´éš”+ä¸­é—´1pxåˆ†éš”çº¿ => 31px */
        }

        html[lang="zh"] #rightStatusContainer {
            justify-self: start !important;
            margin-right: 0 !important;
            margin-left: 0 !important;
        }

        /* è‹±æ–‡æ¨¡å¼ï¼šåŒæ ·ä¿è¯è“è‰²çŠ¶æ€å®¹å™¨å·¦è¾¹ç¼˜ä¸ä¸Šæ–¹â€œæ‰‹åŠ¨å¤‡ä»½â€æŒ‰é’®åˆ—å·¦è¾¹ç¼˜å¯¹é½ */
        html[lang="en"] .backup-stats {
            grid-template-columns: 2fr 1fr !important;
            column-gap: 31px !important;
        }

        html[lang="en"] #rightStatusContainer {
            justify-self: start !important;
            margin-right: 0 !important;
            margin-left: 0 !important;
        }

        /* Customize Manual Backup Button: Remove yellow glow (breathe animation) and prevent hover blue color change */
        #uploadToCloudManual.breathe-animation {
            animation: none !important;
            border-color: transparent !important;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important;
        }

        #uploadToCloudManual:hover {
            background-color: #4CAF50 !important;
            /* Keep base green color on hover */
            opacity: 0.9;
            /* Optional: Slight potential feedback without changing color hue, or just remove opacity if strict */
        }

        /* Animation classes for content transition */
        /* Animation classes for content transition */
        .anim-content {
            display: inline-block;
            transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1), transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 1;
            transform: scale(1);
        }

        .anim-content.anim-out {
            opacity: 0;
            transform: scale(0.6);
        }

        /* Override disabled behavior strictly using class */
        #uploadToCloudManual.success-animating {
            background-color: #4CAF50 !important;
            color: white !important;
            opacity: 1 !important;
            cursor: default !important;
            box-shadow: none !important;
            pointer-events: none !important;
            /* Disable clicks via CSS instead of 'disabled' attribute to avoid grey flash */
        }

        /* ========================= */
        /* Sync & Restore (ported)   */
        /* ========================= */
        /* Modern Transparent/Glass UI Redesign for Init Section */
        .modern-init-content {
            padding: 8px 12px 15px 12px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .settings-split-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            align-items: stretch;
        }

        .restore-panel-column {
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-height: 0;
            height: auto;
            margin-top: 0;
            align-self: stretch;
            box-sizing: border-box;
        }

        .restore-panel-column .glass-panel {
            display: flex;
            flex-direction: column;
            flex: 0 0 auto;
            min-height: 0;
            height: auto;
            margin-bottom: 0;
            padding: 10px 12px;
            gap: 8px;
            box-sizing: border-box;
        }

        .glass-panel {
            background: linear-gradient(145deg, var(--theme-bg-secondary), var(--theme-bg-tertiary));
            border: 1px solid var(--theme-border-primary);
            border-radius: 12px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
            position: relative;
            overflow: hidden;
        }

        .glass-panel::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }
        .sync-panel-content {
            display: flex;
            flex-direction: column;
            align-items: stretch;
            justify-content: flex-start;
            height: 100%;
            gap: 8px;
            min-height: 0;
            text-align: left;
            padding: 4px 0 0;
        }

        .sync-panel-content .restore-reset-row {
            margin-top: auto;
            padding: 6px 0 0;
        }

        .sync-icon-large {
            font-size: 20px;
            color: var(--theme-text-disabled);
            margin-bottom: 2px;
            opacity: 0.7;
        }
        .sync-title-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 2px;
            width: 100%;
        }
        .sync-title-main {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            min-width: 0;
        }

        .sync-title-icon {
            font-size: 14px;
            color: var(--theme-text-disabled);
            opacity: 0.75;
            flex-shrink: 0;
        }

        .sync-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--theme-text-primary);
            line-height: 1.2;
        }

        /* Modern Init Buttons */
        .modern-init-buttons-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
            margin-top: 8px;
            width: 100%;
        }
        .init-actions-stack {
            margin-top: 0;
            align-self: stretch;
            box-sizing: border-box;
            flex: 0 0 auto;
            transform: translateY(-1.5px);
        }

        .init-actions-stack .modern-init-btn {
            width: 100%;
            height: 36px;
            min-height: 36px;
            padding-top: 0;
            padding-bottom: 0;
        }

        .modern-init-btn {
            border: none;
            border-radius: 10px;
            padding: 9px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .modern-init-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
            opacity: 0;
            transition: opacity 0.2s;
        }

        .modern-init-btn:hover::before {
            opacity: 1;
        }

        .modern-init-btn.reset-btn {
            background-color: var(--theme-bg-secondary);
            color: var(--theme-error-color);
            border: 1px solid var(--theme-border-secondary);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
            padding-top: 6px;
            padding-bottom: 6px;
            min-height: 36px;
            line-height: 1.1;
        }

        .modern-init-btn.reset-btn:hover {
            background-color: var(--theme-status-error-bg);
            border-color: var(--theme-status-error-border);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .modern-init-btn.upload-btn {
            background: linear-gradient(135deg, var(--theme-accent-color), var(--theme-accent-color-hover));
            color: white;
            box-shadow: 0 4px 10px rgba(0, 122, 255, 0.25);
        }

        .modern-init-btn.upload-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(0, 122, 255, 0.35);
        }
        .upload-icons-container {
            display: flex;
            gap: 4px;
            margin-right: 6px;
        }

        .init-icon {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.4);
            transition: color 0.3s;
        }

        .init-icon.active {
            color: #a3ffac;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .badge-soon-modern {
            background-color: var(--theme-bg-elevated);
            color: var(--theme-text-disabled);
            padding: 2px 8px;
            border-radius: 100px;
            font-size: 10px;
            border: 1px solid var(--theme-border-secondary);
            margin-top: 0;
            align-self: flex-start;
        }
        .restore-actions-list {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin-top: 2px;
        }
        .restore-action-item {
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            padding: 7px 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--theme-border-primary);
            border-radius: 8px;
            color: var(--theme-text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12.5px;
            line-height: 1.2;
            min-height: 34px;
            text-align: left;
        }

        .restore-action-status-dot {
            width: 9px;
            height: 9px;
            border-radius: 50%;
            margin-left: auto;
            flex: 0 0 9px;
            box-shadow: 0 0 4px rgba(0, 0, 0, 0.25);
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
        }

        .restore-action-status-dot.configured {
            background-color: var(--theme-success-color);
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
        }

        .restore-action-status-dot.not-configured {
            background-color: var(--theme-error-color);
            box-shadow: 0 0 5px rgba(255, 68, 68, 0.5);
        }
        .restore-action-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--theme-link-color);
        }

        .restore-label-inline {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            min-width: 0;
        }

        .restore-folder-hint {
            font-size: 11px;
            color: var(--theme-text-secondary);
            opacity: 0.85;
            line-height: 1.2;
            white-space: nowrap;
        }

        .restore-icon-webdav {
            color: #4FC3F7;
        }

        .restore-icon-github {
            color: #e6e6e6;
        }

        .restore-icon-local {
            color: #FFA726;
        }

        .sync-restore-help-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            min-width: 18px;
            min-height: 18px;
            flex: 0 0 18px;
            padding: 0;
            margin: 0 0 0 1px;
            background: var(--theme-bg-secondary);
            border: 1px solid var(--theme-border-secondary);
            border-radius: 999px;
            -webkit-appearance: none;
            appearance: none;
            color: var(--theme-text-secondary);
            cursor: pointer;
            font-size: 12px;
            opacity: 1;
            transition: all 0.2s ease;
            line-height: 1;
        }

        .sync-restore-help-btn i {
            font-size: 13px;
            line-height: 1;
        }

        .sync-restore-help-btn:hover {
            color: var(--theme-link-color);
            border-color: var(--theme-link-color);
            background: var(--theme-bg-elevated);
        }

        .current-changes-mode-help-btn {
            width: 16px;
            height: 16px;
            min-width: 16px;
            min-height: 16px;
            flex: 0 0 16px;
            margin-left: 4px;
            font-size: 10px;
        }

        .current-changes-mode-help-btn i {
            font-size: 11px;
        }


        /* ========================= */
        /* Restore Modal Styles      */
        /* ========================= */
        #restoreVersionTable th,
        #restoreVersionTable td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--theme-border-primary);
            font-size: 12px;
            color: var(--theme-text-primary);
            vertical-align: middle;
        }

        #restoreVersionTable.snapshot-mode th,
        #restoreVersionTable.snapshot-mode td {
            padding: 8px 10px;
        }

        #restoreVersionTable thead th {
            background: var(--theme-bg-secondary);
            color: var(--theme-text-secondary);
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 1;
        }

        #restoreVersionTable tbody tr {
            cursor: pointer;
            transition: background-color 0.15s ease;
        }

        #restoreVersionTable tbody tr:hover {
            background: var(--theme-hover-bg);
        }

        #restoreVersionTable tbody tr[data-selected="1"] {
            background: var(--theme-selected-item-bg);
        }

        #restoreVersionTable td.restore-cell-center {
            text-align: center;
        }

        #restoreVersionTable td.restore-cell-mono {
            font-family: monospace;
            color: var(--theme-text-secondary);
        }

        #restoreVersionTable .restore-note {
            font-weight: 600;
            font-size: 13px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 240px;
        }

        #restoreVersionTable .restore-stats {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            color: var(--theme-text-secondary);
        }

        #restoreVersionTable .restore-stats .pos {
            color: #4CAF50;
            font-weight: 600;
        }

        #restoreVersionTable .restore-stats .neg {
            color: #E57373;
            font-weight: 600;
        }

        #restoreVersionTable .restore-stats .move {
            color: #4FC3F7;
            font-weight: 600;
        }

        #restoreVersionTable .restore-stats .mod {
            color: #FFB74D;
            font-weight: 600;
        }

        .restore-modal-action-btn {
            min-width: 92px;
            height: 34px;
            padding: 0 12px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
        }

        .restore-modal-action-btn.secondary {
            background-color: var(--theme-bg-tertiary);
            color: var(--theme-text-secondary);
            border: 1px solid var(--theme-border-primary);
        }

        .restore-modal-action-btn.secondary:hover:not(:disabled) {
            background-color: var(--theme-hover-bg);
            color: var(--theme-text-primary);
        }

        .restore-modal-action-btn.primary {
            background-color: var(--theme-accent-color);
            color: white;
            border: none;
        }

        .restore-modal-action-btn.primary:hover:not(:disabled) {
            background-color: var(--theme-accent-color-hover);
        }

        .restore-modal-action-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .restore-modal-footer {
            padding: 10px 14px;
            border-top: 1px solid var(--theme-border-primary);
            background-color: var(--theme-bg-primary);
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .restore-modal-actions {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-left: auto;
        }

        .restore-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 16px;
            border-bottom: 1px solid var(--theme-border-primary);
            min-height: 48px;
            box-sizing: border-box;
        }

        .restore-modal-title {
            font-size: 16px;
            font-weight: 600;
            margin: 0;
            color: var(--theme-text-primary);
            text-align: left;
            line-height: 1.5;
            position: relative;
            top: 10px;
        }

        .popup-modal-close {
            flex: 0 0 auto;
            padding: 0;
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 50%;
            background: var(--theme-bg-secondary);
            color: var(--theme-text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: none;
            transform: none;
            transition: all 0.2s ease;
        }

        .popup-modal-close:hover {
            background: var(--theme-bg-tertiary);
            box-shadow: none;
            transform: none;
        }

        #restoreStrategySegment {
            display: inline-flex;
            align-items: center;
        }

        .restore-strategy-group {
            height: 34px;
            padding: 2px;
            border-radius: 8px;
            border: 1px solid var(--theme-border-primary);
            background-color: var(--theme-bg-tertiary);
            display: inline-flex;
            gap: 2px;
            box-sizing: border-box;
        }

        .restore-strategy-group.disabled {
            opacity: 0.6;
            pointer-events: none;
        }

        .restore-strategy-label {
            cursor: pointer;
            user-select: none;
            margin: 0;
            height: 100%;
            display: flex;
        }

        .restore-strategy-label input {
            display: none;
        }

        .restore-strategy-option {
            height: 100%;
            padding: 0 9px;
            border-radius: 7px;
            font-size: 13px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            color: var(--theme-text-secondary);
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .restore-strategy-option:hover {
            background-color: var(--theme-bg-hover);
            color: var(--theme-text-primary);
        }

        .restore-strategy-icon {
            display: none;
            font-size: 12px;
            margin-left: -3px;
            opacity: 0.95;
        }

        .restore-strategy-label input:checked+.restore-strategy-option {
            background-color: var(--theme-accent-color);
            color: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
            font-weight: 500;
        }

        .restore-strategy-label input:checked+.restore-strategy-option .restore-strategy-icon {
            display: inline-flex;
        }

        .restore-strategy-divider {
            width: 1px;
            height: 18px;
            align-self: center;
            background-color: var(--theme-border-primary);
            opacity: 0.85;
            margin: 0 2px;
        }

        .restore-confirm-summary {
            background-color: var(--theme-bg-secondary);
            border: 1px solid var(--theme-border-primary);
            border-radius: 8px;
            padding: 8px 10px;
            color: var(--theme-text-secondary);
            font-size: 13px;
            line-height: 1.25;
        }

        .restore-confirm-summary-grid {
            display: grid;
            grid-template-columns: 72px 1fr;
            column-gap: 8px;
            row-gap: 4px;
            align-items: start;
        }

        .restore-confirm-summary-key {
            color: var(--theme-text-secondary);
            opacity: 0.9;
            white-space: nowrap;
        }

        .restore-confirm-summary-val {
            color: var(--theme-text-primary);
            word-break: break-word;
        }

        .restore-confirm-summary-val.mono {
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 12px;
            color: var(--theme-text-secondary);
        }

        .restore-confirm-warning {
            margin-top: 10px;
            padding: 8px 10px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.25;
        }

        .restore-confirm-warning.danger {
            border-left: 3px solid var(--theme-error-color);
            background-color: var(--theme-status-error-bg);
            color: var(--theme-status-error-text);
        }

        .restore-confirm-warning.info {
            border-left: 3px solid var(--theme-status-info-text);
            background-color: var(--theme-status-info-bg);
            color: var(--theme-status-info-text);
        }

        .restore-confirm-warning.warning {
            border-left: 3px solid var(--theme-warning-color);
            background-color: rgba(255, 152, 0, 0.12);
            color: var(--theme-text-primary);
        }

        .restore-modal-action-btn.danger {
            background-color: var(--theme-error-color);
            color: white;
            border: none;
        }

        .restore-modal-action-btn.danger:hover:not(:disabled) {
            filter: brightness(0.95);
        }

        #restoreConfirmModal {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #f0f2f5;
            --bg-elevated: #ffffff;

            --text-primary: #1c1e21;
            --text-secondary: #65676b;
            --text-tertiary: #8a8d91;

            --border-color: #e4e6eb;
            --border-hover: #ccd0d5;

            --accent-primary: #1877f2;
            --accent-hover: #166fe5;
            --accent-light: #e7f3ff;
            --link-color: #1877f2;

            --success: #42b72a;
            --success-light: #e7f5e4;
            --warning: #ff9800;
            --warning-light: #fff3e0;
            --error: #e74c3c;
            --error-light: #ffebee;
            --info: #17a2b8;
            --info-light: #e0f7fa;

            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.15);

            --git-added: #22863a;
            --git-added-bg: #e6ffed;
            --git-deleted: #cb2431;
            --git-deleted-bg: #ffeef0;
            --git-modified: #f97316;
            --git-modified-bg: #fff7ed;
            --git-moved: #3b82f6;
            --git-moved-bg: #eff6ff;
            align-items: center;
            justify-content: center;
        }

        html[data-theme="dark"] #restoreConfirmModal {
            --bg-primary: #18191a;
            --bg-secondary: #242526;
            --bg-tertiary: #3a3b3c;
            --bg-elevated: #242526;

            --text-primary: #e4e6eb;
            --text-secondary: #b0b3b8;
            --text-tertiary: #8a8d91;

            --border-color: #3a3b3c;
            --border-hover: #4e4f50;

            --accent-primary: #2d88ff;
            --accent-hover: #4d9eff;
            --accent-light: #1a3a5f;
            --link-color: #4d9eff;

            --success: #42b72a;
            --success-light: #1b3a1b;
            --warning: #ff9800;
            --warning-light: #3d2b1f;
            --error: #e74c3c;
            --error-light: #3d1f1f;
            --info: #17a2b8;
            --info-light: #1a3540;

            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.5);

            --git-added: #3fb950;
            --git-added-bg: #1b3a1b;
            --git-deleted: #f85149;
            --git-deleted-bg: #3d1f1f;
            --git-modified: #fb923c;
            --git-modified-bg: #431407;
            --git-moved: #60a5fa;
            --git-moved-bg: #172554;
        }

        #restoreConfirmModal,
        #restoreConfirmModal * {
            box-sizing: border-box;
        }

        #restoreConfirmModal button {
            flex: 0 0 auto !important;
            box-shadow: none !important;
            transform: none !important;
        }

        #restoreConfirmModal button:hover {
            transform: none !important;
            box-shadow: none !important;
        }

        #restoreConfirmModal {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            line-height: 1.6;
        }

        #restoreModal,
        #importTargetModal {
            align-items: center;
            justify-content: center;
        }

        #restoreConfirmModal .restore-modal-action-btn {
            min-width: 92px;
            height: 34px;
            padding: 0 12px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        #restoreConfirmModal .restore-modal-action-btn:hover:not(:disabled) {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        #restoreConfirmModal .restore-modal-action-btn.primary {
            background-color: var(--accent-primary);
            color: #ffffff;
            border: none;
        }

        #restoreConfirmModal .restore-modal-action-btn.primary:hover:not(:disabled) {
            background-color: var(--accent-hover);
        }

        #restoreConfirmModal .restore-modal-action-btn.secondary {
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        #restoreConfirmModal .restore-modal-action-btn.secondary:hover:not(:disabled) {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        #restoreConfirmModal .restore-modal-action-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        #restoreConfirmModal .restore-confirm-summary-key {
            color: var(--text-secondary);
            opacity: 1;
        }

        #restoreConfirmModal .restore-confirm-summary-val {
            color: var(--text-primary);
        }

        #restoreConfirmModal .restore-confirm-summary-val.mono {
            color: var(--text-tertiary);
        }

        #restoreConfirmModal .restore-confirm-warning.danger {
            border-left: 3px solid var(--error);
            background-color: var(--error-light);
            color: var(--text-primary);
        }

        #restoreConfirmModal .restore-confirm-warning.info {
            border-left: 3px solid var(--info);
            background-color: var(--info-light);
            color: var(--text-primary);
        }

        #restoreConfirmModal .restore-confirm-warning.warning {
            border-left: 3px solid var(--warning);
            background-color: var(--warning-light);
            color: var(--text-primary);
        }

        #restoreConfirmModal #restorePreviewContent {
            padding: 8px 20px !important;
        }

        #restoreConfirmModal #restorePreviewContent {
            overflow-y: auto;
        }

        #restoreConfirmModal #restorePreviewContent .history-tree-container.bookmark-tree {
            max-height: none;
            overflow: visible;
            border: none;
            padding: 0;
            background: transparent;
        }

        #restoreConfirmModal #closeRestoreConfirmModal:hover {
            background: var(--bg-tertiary) !important;
        }

        #restoreConfirmModal .restore-diff-bar {
            margin-top: 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 6px 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
        }

        #restoreConfirmModal .restore-preview-btn {
            height: 24px;
            padding: 0 10px;
            font-size: 11px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-secondary);
            border-radius: 6px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        #restoreConfirmModal .restore-preview-btn:hover:not(:disabled) {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        #restoreConfirmModal .restore-preview-btn {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        #restoreConfirmModal .restore-import-target-hint {
            margin: 6px 0 10px;
            font-size: 12px;
            color: var(--text-secondary);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 6px 8px;
        }

        #importTargetModal .import-target-list {
            max-height: 320px;
            overflow-y: auto;
            margin: 6px 0 12px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background: var(--bg-primary);
            padding: 6px;
        }

        #importTargetModal .import-target-tree-node {
            display: block;
        }

        #importTargetModal .import-target-tree-row {
            border: 1px solid transparent;
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 8px;
            min-height: 32px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
            margin: 2px 0;
            padding-right: 8px;
        }

        #importTargetModal .import-target-tree-row:hover {
            background: var(--bg-tertiary);
        }

        #importTargetModal .import-target-tree-row.selected {
            border-color: var(--accent-primary);
            background: rgba(13, 110, 253, 0.08);
        }

        #importTargetModal .import-target-tree-toggle {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 4px;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex: 0 0 20px;
        }

        #importTargetModal .import-target-tree-toggle:hover {
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        #importTargetModal .import-target-tree-icon {
            color: var(--warning);
            width: 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex: 0 0 16px;
        }

        #importTargetModal .import-target-tree-title {
            flex: 1;
            min-width: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: 13px;
        }

        #importTargetModal .import-target-tree-meta {
            font-size: 11px;
            color: var(--text-tertiary);
            white-space: nowrap;
        }

        #importTargetModal .import-target-tree-selected-mark {
            width: 14px;
            color: var(--accent-primary);
            text-align: center;
            flex: 0 0 14px;
        }

        #importTargetModal .import-target-tree-children {
            margin-left: 0;
        }

        #importTargetModal .import-target-tree-loading,
        #importTargetModal .import-target-tree-empty {
            font-size: 12px;
            color: var(--text-tertiary);
            padding: 6px 10px;
        }

        #importTargetModal .import-target-tree-empty.error {
            color: var(--warning);
        }

        #importTargetModal .import-target-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        #restoreConfirmModal .commit-stats {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        #restoreConfirmModal .stat-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 500;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            white-space: nowrap;
        }

        #restoreConfirmModal .stat-badge.quantity {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            padding: 4px 12px;
            font-size: 13px;
            font-weight: 600;
        }

        #restoreConfirmModal .stat-badge.no-change {
            background: var(--success-light);
            color: var(--success);
        }

        #restoreConfirmModal .stat-badge.first {
            background: var(--success-light);
            color: var(--success);
        }

        #restoreConfirmModal .stat-color {
            font-weight: 600;
        }

        #restoreConfirmModal .stat-color.added {
            color: var(--git-added);
        }

        #restoreConfirmModal .stat-color.deleted {
            color: var(--git-deleted);
        }

        #restoreConfirmModal .stat-color.moved {
            color: var(--git-moved);
        }

        #restoreConfirmModal .stat-color.modified {
            color: var(--git-modified);
        }

        #restoreConfirmModal .stat-label {
            font-size: 10px;
            font-weight: 600;
            color: var(--text-tertiary);
            text-transform: uppercase;
        }

        #restoreConfirmModal .detail-section {
            margin-bottom: 18px;
        }

        #restoreConfirmModal .detail-section-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #restoreConfirmModal .detail-empty {
            padding: 24px;
            text-align: center;
            color: var(--text-secondary);
            font-size: 14px;
        }

        #restoreConfirmModal .detail-section-title-with-legend {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: nowrap;
            gap: 12px;
        }

        #restoreConfirmModal .detail-title-left {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        #restoreConfirmModal .detail-mode-label {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-tertiary);
        }

        #restoreConfirmModal .detail-title-legend {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }

        #restoreConfirmModal .legend-item {
            display: inline-flex;
            align-items: center;
            gap: 3px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        #restoreConfirmModal .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        #restoreConfirmModal .legend-dot.added {
            background: #28a745;
        }

        #restoreConfirmModal .legend-dot.deleted {
            background: #dc3545;
        }

        #restoreConfirmModal .legend-dot.modified {
            background: #fd7e14;
        }

        #restoreConfirmModal .legend-dot.moved {
            background: #0d6efd;
        }

        #restoreConfirmModal .legend-count {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        #restoreConfirmModal .history-tree-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px;
            background: var(--bg-secondary);
        }

        #restoreConfirmModal .tree-node {
            margin-bottom: 4px;
        }

        #restoreConfirmModal .tree-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            position: relative;
        }

        #restoreConfirmModal .tree-node:has(.tree-children) .tree-item:active {
            background: var(--bg-tertiary);
            transform: scale(0.99);
        }

        #restoreConfirmModal .tree-item::after {
            content: '';
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 12px;
            background: linear-gradient(to bottom,
                    var(--text-tertiary) 0px,
                    var(--text-tertiary) 2px,
                    transparent 2px,
                    transparent 4px,
                    var(--text-tertiary) 4px,
                    var(--text-tertiary) 6px,
                    transparent 6px,
                    transparent 8px,
                    var(--text-tertiary) 8px,
                    var(--text-tertiary) 10px,
                    transparent 10px,
                    transparent 12px);
            opacity: 0;
            transition: opacity 0.2s;
        }

        #restoreConfirmModal .tree-item:hover::after {
            opacity: 0.3;
        }

        #restoreConfirmModal .tree-item:hover {
            background: var(--bg-secondary);
        }

        #restoreConfirmModal .tree-toggle {
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-tertiary);
            transition: transform 0.2s ease;
        }

        #restoreConfirmModal .tree-toggle.expanded {
            transform: rotate(90deg);
        }

        #restoreConfirmModal .tree-icon {
            width: 16px;
            height: 16px;
            color: var(--text-secondary);
        }

        #restoreConfirmModal .tree-label {
            flex: 1;
            font-size: 14px;
            color: var(--text-primary);
            word-break: break-all;
            overflow-wrap: anywhere;
        }

        #restoreConfirmModal a.tree-label.tree-bookmark-link {
            text-decoration: none;
            cursor: pointer;
            transition: color 0.2s ease, text-decoration 0.2s ease;
        }

        #restoreConfirmModal a.tree-label.tree-bookmark-link:hover {
            color: var(--accent-primary);
            text-decoration: underline;
        }

        #restoreConfirmModal .change-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 22px;
            height: 20px;
            font-size: 11px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 4px;
            line-height: 1;
            vertical-align: middle;
        }

        #restoreConfirmModal .change-badge.added {
            background: rgba(40, 167, 69, 0.15);
            color: #28a745;
        }

        #restoreConfirmModal .change-badge.deleted {
            background: rgba(220, 53, 69, 0.15);
            color: #dc3545;
        }

        #restoreConfirmModal .change-badge.modified {
            background: rgba(253, 126, 20, 0.15);
            color: #fd7e14;
        }

        #restoreConfirmModal .change-badge.ambiguous {
            background: rgba(111, 66, 193, 0.15);
            color: #6f42c1;
        }

        #restoreConfirmModal .change-badge.has-changes {
            background: rgba(108, 117, 125, 0.15);
            color: #6c757d;
        }

        #restoreConfirmModal .change-badge.moved {
            background: rgba(13, 110, 253, 0.15);
            color: #0d6efd;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        #restoreConfirmModal .change-badge.moved:hover {
            background: rgba(13, 110, 253, 0.25);
            transform: scale(1.1);
        }

        #restoreConfirmModal .change-badge.moved:hover::before {
            content: '';
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            margin-right: -6px;
            border: 6px solid transparent;
            border-left-color: var(--border-color);
            z-index: 1001;
            opacity: 1;
        }

        #restoreConfirmModal .change-badge.moved i {
            font-size: 11px;
            line-height: 1;
        }

        #restoreConfirmModal .change-badge.moved .move-tooltip {
            display: none;
            position: absolute;
            right: calc(100% + 8px);
            top: 50%;
            transform: translateY(-50%);
            padding: 10px 12px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            white-space: nowrap;
            min-width: 200px;
        }

        #restoreConfirmModal .change-badge.moved:hover .move-tooltip {
            display: block;
        }

        #restoreConfirmModal .move-tooltip .breadcrumb-item {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            background: rgba(33, 150, 243, 0.08);
            border: 1px solid rgba(33, 150, 243, 0.2);
            border-radius: 4px;
            font-size: 11px;
            color: var(--text-primary);
        }

        #restoreConfirmModal .move-tooltip .breadcrumb-separator {
            color: var(--text-tertiary);
            font-size: 8px;
            opacity: 0.5;
            margin: 0 2px;
        }

        #restoreConfirmModal .tree-change-added>.tree-label,
        #restoreConfirmModal .tree-change-added>a.tree-label {
            color: #28a745;
            font-weight: 500;
        }

        #restoreConfirmModal .tree-change-deleted>.tree-label,
        #restoreConfirmModal .tree-change-deleted>a.tree-label {
            color: #dc3545;
            font-weight: 500;
            text-decoration: line-through;
            opacity: 0.7;
        }

        #restoreConfirmModal .tree-change-modified>.tree-label,
        #restoreConfirmModal .tree-change-modified>a.tree-label {
            color: #fd7e14;
            font-weight: 500;
        }

        #restoreConfirmModal .tree-change-ambiguous>.tree-label,
        #restoreConfirmModal .tree-change-ambiguous>a.tree-label {
            color: #6f42c1;
            font-weight: 500;
        }

        #restoreConfirmModal .tree-change-moved>.tree-label,
        #restoreConfirmModal .tree-change-moved>a.tree-label {
            color: #0d6efd;
            font-weight: 500;
        }

        #restoreConfirmModal .tree-change-mixed>.tree-label,
        #restoreConfirmModal .tree-change-mixed>a.tree-label {
            background: linear-gradient(180deg, #fd7e14 0%, #0d6efd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 500;
        }

        #restoreConfirmModal .change-badges {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            margin-left: auto;
        }

        #restoreConfirmModal .tree-children {
            margin-left: 12px;
            display: none;
        }

        #restoreConfirmModal .tree-children.expanded {
            display: block;
        }

        #restoreConfirmModal .history-tree-container .tree-children {
            margin-left: 16px;
            padding-left: 12px;
            position: relative;
            border-left: 1px solid var(--border-color);
        }

        #restoreConfirmModal .history-tree-container .tree-node {
            position: relative;
        }

        #restoreConfirmModal .history-tree-container .tree-children>.tree-node::before {
            content: '';
            position: absolute;
            left: -12px;
            top: 14px;
            width: 12px;
            height: 1px;
            background: var(--border-color);
        }

        #restoreConfirmModal .history-tree-container .tree-children>.tree-node:last-child::after {
            content: '';
            position: absolute;
            left: -13px;
            top: 14px;
            bottom: 0;
            width: 1px;
            background: var(--bg-secondary);
        }
        /* Backup History Sync Settings */
        .clean-segment-group {
            background-color: var(--theme-bg-elevated);
            border-radius: 6px;
            padding: 2px;
            display: inline-flex;
            gap: 2px;
            border: 1px solid var(--theme-border-secondary);
        }

        .clean-segment-label {
            cursor: pointer;
            position: relative;
            user-select: none;
            margin: 0;
        }

        .clean-segment-label input {
            display: none;
        }

        .clean-segment-item {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 4px;
            color: var(--theme-text-secondary);
            transition: all 0.2s ease;
            text-align: center;
            min-width: 40px;
            cursor: pointer;
        }

        .clean-segment-item:hover {
            background-color: var(--theme-bg-hover);
            color: var(--theme-text-primary);
        }

        .clean-segment-label input:checked + .clean-segment-item {
            background-color: var(--theme-accent-color);
            color: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
            font-weight: 500;
        }

        .clean-segment-divider {
            font-size: 10px;
            color: var(--theme-text-disabled);
            padding: 0 4px;
            display: flex;
            align-items: center;
        }

        .stacked-settings {
            display: flex;
            flex-direction: column;
            gap: 0;
            padding: 0;
        }

        .settings-section {
            border-bottom: 1px solid var(--theme-border-secondary);
        }

        .settings-section:last-child {
            border-bottom: none;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: var(--theme-bg-tertiary);
            min-height: 34px;
            box-sizing: border-box;
        }

        .section-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--theme-text-primary);
        }

        .section-content {
            padding: 8px 12px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .section-content.disabled {
            opacity: 0.4;
            pointer-events: none;
        }

        .setting-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .setting-label {
            font-size: 11px;
            color: var(--theme-text-secondary);
            min-width: 60px;
        }

        .setting-label-with-help {
            display: inline-flex;
            align-items: center;
            gap: 1px;
            min-width: auto;
        }

        .setting-label-with-help .setting-label {
            min-width: auto;
        }

        .section-header.clickable {
            cursor: pointer;
            user-select: none;
        }

        .section-header.clickable:hover {
            background: var(--theme-bg-hover);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .collapse-icon {
            font-size: 10px;
            color: var(--theme-text-secondary);
            transition: transform 0.2s ease;
        }

        .settings-section.collapsed .collapse-icon {
            transform: rotate(-90deg);
        }

        .settings-section.collapsible .section-content {
            overflow: hidden;
            transition: max-height 0.2s ease, padding 0.2s ease, opacity 0.2s ease;
            max-height: 200px;
        }

        .settings-section.collapsed .section-content {
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
            opacity: 0;
        }
    </style>
</head>

<body>
    <div id="status" class="status"></div>
    <div class="main-section">
        <div id="status" class="status"></div>

        <!-- æ–°çš„æ ‡é¢˜å’Œæœç´¢æ¡†å¸ƒå±€ -->
        <div class="header-container">
            <!-- ç§»é™¤ç©ºçš„h1å…ƒç´  -->
        </div>

        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h2 style="margin: 0; color: #007AFF; font-size: 18px;"><span id="pageTitleElement">ä¹¦ç­¾å¤‡ä»½</span>
            </h2>
            <div style="display: flex; align-items: center;">
                <button id="scrollToTopBtn" title="å›åˆ°é¡¶éƒ¨" style="display: none; margin-right: 5px;">â†‘</button>
                <button id="openSourceInfoBtn" title="å¼€æºä¿¡æ¯"
                    style="font-size: 14px; padding: 5px 8px; margin-right: 8px; background-color: var(--theme-bg-tertiary); border: 1px solid var(--theme-border-primary); border-radius: 4px; color: var(--theme-text-secondary); cursor: pointer; position: relative;">
                    <i class="fab fa-github"></i>
                    <span class="tooltip"
                        style="position: absolute; background-color: var(--theme-tooltip-bg, rgba(0,0,0,0.7)); color: var(--theme-tooltip-text, white); padding: 2px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s; pointer-events: none; top: -25px; left: 50%; transform: translateX(-50%);"
                        id="openSourceTooltip">å¼€æºä¿¡æ¯</span>
                </button>
                <button id="themeSwitcher" title="åˆ‡æ¢ä¸»é¢˜"
                    style="font-size: 14px; padding: 5px 8px; margin-right: 8px; background-color: var(--theme-bg-tertiary); border: 1px solid var(--theme-border-primary); border-radius: 4px; color: var(--theme-text-secondary); cursor: pointer; position: relative;">
                    <i class="fas fa-moon" id="darkModeIcon" style="display: none;"></i>
                    <i class="fas fa-sun" id="lightModeIcon" style="display: none;"></i>
                    <i class="fas fa-desktop" id="systemModeIcon"></i>
                    <span class="tooltip"
                        style="position: absolute; background-color: var(--theme-tooltip-bg, rgba(0,0,0,0.7)); color: var(--theme-tooltip-text, white); padding: 2px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s; pointer-events: none; top: -25px; left: 50%; transform: translateX(-50%);"
                        id="themeSwitcherTooltip">åˆ‡æ¢ä¸»é¢˜</span>
                </button>
                <button id="lang-toggle-btn" title="åˆ‡æ¢è¯­è¨€"
                    style="font-size: 12px; padding: 5px 8px; margin: 0; z-index: 10000; position: relative; min-width: 90px; min-height: 28px;">ä¸­æ–‡
                    / English</button>
            </div>
        </div>

        <div class="config-section">
            <div class="config-header collapsed" id="configHeader">
                <h2>
                    <span class="status-dot not-configured" id="configStatus"></span>
                    <span id="webdavConfigTitle"></span>
                </h2>
                <div style="display: flex; align-items: center;">
                    <label class="switch" style="margin-right: 10px;">
                        <input type="checkbox" id="webDAVToggle" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="toggle-icon"></div>
                </div>
            </div>
            <div class="config-content" id="configContent">
                <div class="form-group" style="padding-left: 5px;">
                    <label for="serverAddress" style="display: block; margin-bottom: 5px;"
                        id="serverAddressLabel"></label>
                    <input type="text" id="serverAddress" placeholder="" style="width: 100%;">
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="username" style="display: block; margin-bottom: 5px;" id="usernameLabel"></label>
                    <input type="text" id="username" placeholder="" style="width: 100%;">
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="password" style="display: block; margin-bottom: 5px;" id="passwordLabel"></label>
                    <div class="password-group-wrapper">
                        <input type="password" id="password" placeholder="" autocomplete="off" autocapitalize="none"
                            autocorrect="off" spellcheck="false">
                        <button type="button" id="passwordVisibilityBtn" class="password-visibility-btn"
                            aria-label="æ˜¾ç¤ºå¯†ç "></button>
                    </div>
                </div>

                <div class="button-group"
                    style="margin-top: 15px; display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; padding-left: 5px; padding-right: 5px; margin-bottom: 5px;">
                    <button id="testWebdavBtn"
                        style="width: auto; min-width: 140px; background-color: #007AFF; color: white; border: none; border-radius: 4px; padding: 8px 12px; cursor: pointer;"></button>
                    <button id="saveKey"
                        style="width: auto; min-width: 140px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; padding: 8px 12px; cursor: pointer;"></button>
                </div>
            </div>
        </div>

        <!-- æ·»åŠ  GitHub Repository é…ç½®æ¡†ï¼ˆäº‘ç«¯2ï¼‰ -->
        <div class="config-section">
            <div class="config-header collapsed" id="githubRepoConfigHeader">
                <h2>
                    <span class="status-dot not-configured" id="githubRepoConfigStatus"></span>
                    <span id="githubRepoConfigTitle"></span>
                </h2>
                <div style="display: flex; align-items: center;">
                    <label class="switch" style="margin-right: 10px;">
                        <input type="checkbox" id="githubRepoToggle" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="toggle-icon"></div>
                </div>
            </div>
            <div class="config-content" id="githubRepoConfigContent">
                <div id="githubRepoNotice"
                    style="font-size: 12px; color: var(--theme-text-secondary); margin: 2px 5px 2px 5px; line-height: 1.5;">
                </div>


                <div class="form-group" style="padding-left: 5px;">
                    <label for="githubRepoOwner" style="display: block; margin-bottom: 5px;"
                        id="githubRepoOwnerLabel"></label>
                    <input type="text" id="githubRepoOwner" placeholder="" style="width: 100%;" autocapitalize="none"
                        autocorrect="off" spellcheck="false">
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="githubRepoName" style="display: block; margin-bottom: 5px;"
                        id="githubRepoNameLabel"></label>
                    <input type="text" id="githubRepoName" placeholder="" style="width: 100%;" autocapitalize="none"
                        autocorrect="off" spellcheck="false">
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="githubRepoToken" style="display: block; margin-bottom: 5px;"
                        id="githubRepoTokenLabel"></label>
                    <div class="password-group-wrapper">
                        <input type="password" id="githubRepoToken" placeholder="" autocomplete="off"
                            autocapitalize="none" autocorrect="off" spellcheck="false">
                        <button type="button" id="githubRepoTokenVisibilityBtn" class="password-visibility-btn"
                            aria-label="æ˜¾ç¤ºToken"></button>
                    </div>
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="githubRepoBranch" style="display: block; margin-bottom: 5px;"
                        id="githubRepoBranchLabel"></label>
                    <input type="text" id="githubRepoBranch" placeholder="" style="width: 100%;" autocapitalize="none"
                        autocorrect="off" spellcheck="false">
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="githubRepoBasePath" style="display: block; margin-bottom: 5px;"
                        id="githubRepoBasePathLabel"></label>
                    <input type="text" id="githubRepoBasePath" placeholder="" style="width: 100%;" autocapitalize="none"
                        autocorrect="off" spellcheck="false">
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <button id="openGithubTokenGuideBtn" type="button"
                        style="width: 100%; background-color: transparent; color: #007AFF; border: 1px solid #007AFF; border-radius: 6px; padding: 8px 10px; cursor: pointer; font-size: 13px;">
                    </button>
                </div>

                <div class="form-group" style="padding-left: 5px;">
                    <label for="githubRepoInfoDisplay" style="display: block; margin-bottom: 5px;"
                        id="githubRepoInfoLabel"></label>
                    <div id="githubRepoInfoDisplay"
                        style="margin-top: 5px; padding: 8px 12px; border: 1px solid var(--theme-border-primary); border-radius: 4px; background-color: var(--theme-bg-secondary); font-size: 13px; color: var(--theme-text-secondary); user-select: text; word-break: break-all; white-space: pre-wrap;">
                    </div>
                </div>

                <div class="button-group"
                    style="margin-top: 15px; display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; padding-left: 5px; padding-right: 5px; margin-bottom: 5px;">
                    <button id="testGithubRepoBtn"
                        style="width: auto; min-width: 140px; background-color: #007AFF; color: white; border: none; border-radius: 4px; padding: 8px 12px; cursor: pointer;"></button>
                    <button id="saveGithubRepoConfigBtn"
                        style="width: auto; min-width: 140px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; padding: 8px 12px; cursor: pointer;"></button>
                </div>
            </div>
        </div>

        <!-- æ·»åŠ æœ¬åœ°å¤‡ä»½é…ç½®æ¡† -->
        <div class="config-section">
            <div class="config-header collapsed" id="localConfigHeader">
                <h2>
                    <span class="status-dot not-configured" id="localConfigStatus"></span>
                    <span id="localConfigTitle"></span>
                </h2>
                <div style="display: flex; align-items: center;">
                    <label class="switch" style="margin-right: 10px;">
                        <input type="checkbox" id="defaultDownloadToggle" checked=false>
                        <span class="slider"></span>
                    </label>
                    <div class="toggle-icon"></div>
                </div>
            </div>
            <div class="config-content" id="localConfigContent">
                <div class="form-group" style="margin-bottom: 6px; padding-left: 5px;">
                    <div class="setting-item"
                        style="display: flex; align-items: center; margin-bottom: 0.75px; margin-top: 0.1px;">
                        <span class="setting-label" style="font-weight: bold;" id="localBackupPathLabel"></span>
                    </div>
                    <div id="downloadPathDisplay"
                        style="margin-top: 5px; padding: 8px 12px; border: 1px solid var(--theme-border-primary); border-radius: 4px; background-color: var(--theme-bg-secondary); font-size: 13px; color: var(--theme-text-primary); margin-bottom: 8px;">
                        åŠ è½½ä¸­...
                    </div>
                    <div style="text-align: left; margin-bottom: 0px;">
                        <button id="calibratePathBtn"
                            style="background-color: #007AFF; color: white; border: none; border-radius: 4px; padding: 6px 10px; cursor: pointer; font-size: 13px; display: flex; align-items: center;">
                            <span style="margin-right: 4px;">ğŸ”„</span> <span id="calibrateButtonText"></span>
                        </button>
                    </div>
                </div>

                <!-- é˜²å¹²æ‰°é€‰é¡¹ -->
                <div class="form-group" style="margin-bottom: 6px; padding-left: 5px;">
                    <div class="setting-item"
                        style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75px; margin-top: 0.75px;">
                        <span class="setting-label" style="font-weight: bold;" id="hideDownloadBarLabel"></span>
                        <label class="switch" style="margin-right: 20px;">
                            <input type="checkbox" id="hideDownloadShelfToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div
                        style="font-size: 12px; color: var(--theme-text-secondary); margin-top: 3px; padding-left: 8px;">
                        <span></span>
                    </div>
                </div>

                <!-- éšè—çš„æ–‡ä»¶è¾“å…¥æ¡† (ç”¨äºæœ¬åœ°æ¢å¤) -->
                <input type="file" id="localRestoreInput" style="display: none;" webkitdirectory directory>

                <!-- åˆ†éš”çº¿ -->
                <div style="border-top: 1px solid var(--theme-border-primary); margin: 6px 0;"></div>

                <!-- åŒºå—ä¸‰ï¼šå®‰å…¨è§„åˆ™è¯´æ˜ -->
                <div class="form-group" style="margin-bottom: 6px; padding-left: 5px;">
                    <div class="setting-item"
                        style="display: flex; align-items: center; margin-bottom: 0.75px; margin-top: 0.75px;">
                        <span class="setting-label" style="font-weight: bold;" id="instructionsLabel"></span>
                    </div>
                    <div
                        style="font-size: 13px; color: var(--theme-text-secondary); margin-top: 8px; padding-left: 5px;">
                        <p style="margin-top: 0; margin-bottom: 5px; font-weight: bold; padding-left: 2px;"
                            id="defaultPathExamples"></p>
                        <ul style="margin-top: 5px; margin-bottom: 15px; padding-left: 20px;">
                            <li><strong>macOS:</strong> <span id="defaultPathMac"></span></li>
                            <li><strong>Windows:</strong> <span id="defaultPathWindows"></span></li>
                            <li><strong>Linux:</strong> <span id="defaultPathLinux"></span></li>
                        </ul>

                        <ul style="margin-top: 0; margin-bottom: 0; padding-left: 20px;">
                            <li id="rulesNoCalibration"></li>
                            <li id="rulesNonInterference"></li>
                            <li id="rulesChromeRestriction"></li>
                            <li id="rulesDownloadAPI"></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- è®¾ç½®ä¸åˆå§‹åŒ–åŒºå— (Redesigned) -->
        <div class="config-section" style="margin-top: 8px;">
            <div class="config-header" id="initHeader">
                <h2>
                    <span class="status-dot configured" style="background-color: var(--theme-accent-color);"></span>
                    <span id="initButtonsTitle">Settings & Initialization</span>
                </h2>
                <div style="display: flex; align-items: center;">
                    <div class="toggle-icon"></div>
                </div>
            </div>
            <div class="config-content modern-init-content" id="initContent" style="display: block;">

                <!-- Main Grid: Backup Settings (Left) & Sync (Right) -->
                <div class="settings-split-container">

                    <!-- Left Panel: Backup Settings (Stacked Design) -->
                    <div class="glass-panel stacked-settings">
                        <div class="settings-section">
                            <div class="section-header">
                                <div class="header-left">
                                    <span class="section-title" id="bookmarkBackupTitle">Bookmark Backup</span>
                                    <span id="backupSettingsSavedIndicator" style="
                                    font-size: 11px;
                                    color: #4CAF50;
                                    opacity: 0;
                                    transition: opacity 0.3s ease;
                                    margin-left: 8px;
                                    display: flex;
                                    align-items: center;
                                    gap: 4px;
                                ">
                                    <i class="fas fa-check-circle"></i>
                                    <span id="backupSettingsSavedText">å·²ä¿å­˜</span>
                                    </span>
                                </div>
                            </div>
                            <div class="section-content">
                                <div class="setting-row">
                                    <span class="setting-label" id="bookmarkModeLabel">Mode</span>
                                    <div class="clean-segment-group">
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="backupModeAuto" checked>
                                            <div class="clean-segment-item" id="backupModeAutoLabel">Auto</div>
                                        </label>
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="backupModeManual">
                                            <div class="clean-segment-item" id="backupModeManualLabel">Manual</div>
                                        </label>
                                    </div>
                                </div>
                                <div class="setting-row" id="backupSettingsRow">
                                    <span class="setting-label" id="backupTimeLabel">Time Frequency</span>
                                    <div style="margin-left: auto;">
                                        <button id="autoBackupSettingsBtnNew" class="settings-button-small"
                                            style="padding: 6px; width: 32px; height: 32px; border: 1px solid var(--theme-border-primary); background: var(--theme-bg-secondary); border-radius: 4px; color: var(--theme-text-primary); cursor: pointer; display: flex; align-items: center; justify-content: center;"
                                            title="Auto Backup Settings">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                        <button id="reminderSettingsBtnNew" class="settings-button-small"
                                            style="display:none; padding: 6px; width: 32px; height: 32px; border: 1px solid var(--theme-border-primary); background: var(--theme-bg-secondary); border-radius: 4px; color: var(--theme-text-primary); cursor: pointer; align-items: center; justify-content: center;"
                                            title="Reminder Settings">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="setting-row">
                                    <span class="setting-label" id="bookmarkOverwriteLabel">Overwrite</span>
                                    <div class="clean-segment-group">
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="overwriteVersioned" checked>
                                            <div class="clean-segment-item" id="overwriteVersionedLabel">Versioned</div>
                                        </label>
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="overwriteOverwrite">
                                            <div class="clean-segment-item" id="overwriteOverwriteLabel">Overwrite</div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section 2: å½“å‰å˜åŒ–è‡ªåŠ¨å½’æ¡£è®¾ç½® (å¯æŠ˜å ) -->
                        <div class="settings-section collapsible" id="currentChangesArchiveSection">
                            <div class="section-header clickable" id="currentChangesArchiveHeader">
                                <div class="header-left">
                                    <span class="section-title" id="currentChangesArchiveTitle">Current Changes</span>
                                    <span id="currentChangesArchiveSavedIndicator" style="
                                        font-size: 11px;
                                        color: #4CAF50;
                                        opacity: 0;
                                        transition: opacity 0.3s ease;
                                        margin-left: 8px;
                                        display: flex;
                                        align-items: center;
                                        gap: 4px;
                                    ">
                                        <i class="fas fa-check-circle"></i>
                                        <span id="currentChangesArchiveSavedText">å·²ä¿å­˜</span>
                                    </span>
                                </div>
                                <div class="header-right" style="display: flex; align-items: center;">
                                    <label class="switch"
                                        style="margin: 0; margin-right: 10px;">
                                        <input type="checkbox" id="currentChangesArchiveEnabled" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <i class="fas fa-plus collapse-icon" id="currentChangesArchiveCollapseIcon"></i>
                                </div>
                            </div>
                            <div class="section-content" id="currentChangesArchiveContent">
                                <div class="setting-row">
                                    <span class="setting-label" id="currentChangesArchiveFormatLabel">Format</span>
                                    <div class="clean-segment-group">
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="currentChangesArchiveFormatHtml" checked>
                                            <div class="clean-segment-item" id="currentChangesArchiveFormatHtmlLabel">HTML</div>
                                        </label>
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="currentChangesArchiveFormatJson">
                                            <div class="clean-segment-item" id="currentChangesArchiveFormatJsonLabel">JSON</div>
                                        </label>
                                    </div>
                                </div>

                                <div class="setting-row">
                                    <div class="setting-label-with-help">
                                        <span class="setting-label" id="currentChangesArchiveModeLabel">View</span>
                                        <button type="button" id="currentChangesArchiveModeHelpBtn" class="sync-restore-help-btn current-changes-mode-help-btn" aria-label="View mode help" title="View mode help">
                                            <i class="fas fa-question-circle"></i>
                                        </button>
                                    </div>
                                    <div class="clean-segment-group">
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="currentChangesArchiveModeSimple" checked>
                                            <div class="clean-segment-item" id="currentChangesArchiveModeSimpleLabel">Simple</div>
                                        </label>
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="currentChangesArchiveModeDetailed">
                                            <div class="clean-segment-item" id="currentChangesArchiveModeDetailedLabel">Detailed</div>
                                        </label>
                                        <label class="clean-segment-label">
                                            <input type="checkbox" id="currentChangesArchiveModeCollection">
                                            <div class="clean-segment-item" id="currentChangesArchiveModeCollectionLabel">Collection</div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Restore Panel + Init Actions -->
                    <div class="restore-panel-column">
                        <!-- Right Panel: Sync & Restore -->
                        <div class="glass-panel">
                            <div class="sync-panel-content" id="syncRestorePanelContent">
                                <div class="sync-title-container">
                                    <div class="sync-title-main">
                                        <i class="fas fa-history sync-title-icon"></i>
                                        <div class="sync-title" id="syncRestoreTitle">Restore</div>
                                    </div>
                                    <button id="syncRestoreHelpBtn" class="sync-restore-help-btn" aria-label="Help">
                                        <i class="fas fa-question-circle"></i>
                                    </button>
                                </div>

                                <span class="badge-soon-modern" id="syncRestoreComingSoon">å¾…é€‰æ‹©</span>

                                <div id="restoreActionsList" class="restore-actions-list" style="display: none;">
                                    <button id="restoreFromWebDAVBtn" class="restore-action-item" style="display: none;">
                                        <i class="fas fa-cloud restore-icon-webdav"></i>
                                        <span class="restore-label">WebDAV</span>
                                        <span id="restoreFromWebDAVStatusDot" class="restore-action-status-dot not-configured" aria-hidden="true"></span>
                                    </button>
                                    <button id="restoreFromGitHubBtn" class="restore-action-item" style="display: none;">
                                        <i class="fab fa-github restore-icon-github"></i>
                                        <span class="restore-label">GitHub</span>
                                        <span id="restoreFromGitHubStatusDot" class="restore-action-status-dot not-configured" aria-hidden="true"></span>
                                    </button>
                                    <button id="restoreFromLocalBtn" class="restore-action-item" style="display: none;">
                                        <i class="fas fa-hdd restore-icon-local"></i>
                                        <span class="restore-label-inline">
                                            <span class="restore-label">Local</span>
                                            <span id="restoreLocalFolderHint" class="restore-folder-hint">ï¼ˆè¯·é€‰æ‹©çˆ¶æ–‡ä»¶å¤¹ï¼šä¹¦ç­¾å¤‡ä»½ï¼‰</span>
                                        </span>
                                        <span id="restoreFromLocalStatusDot" class="restore-action-status-dot not-configured" aria-hidden="true"></span>
                                    </button>
                                </div>

                                <div class="modern-init-buttons-grid restore-reset-row">
                                    <button id="resetAll" class="modern-init-btn reset-btn">
                                        <i class="fas fa-undo"></i>
                                        <span id="resetAllText">Reset</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="modern-init-buttons-grid init-actions-stack">
                            <button id="uploadToCloud" class="modern-init-btn upload-btn">
                                <div class="upload-icons-container">
                                    <i id="uploadIconWebDAV" class="fas fa-cloud init-icon"></i>
                                    <i id="uploadIconGitHub" class="fab fa-github init-icon"></i>
                                    <i id="uploadIconLocal" class="fas fa-hdd init-icon"></i>
                                </div>
                                <span id="uploadToCloudText">Upload</span>
                            </button>
                        </div>
                    </div>

                </div>

                <!-- Hidden Compatibility Elements -->
                <div class="setting-item" style="display: none;">
                    <span class="setting-label">å¯ç”¨è‡ªåŠ¨å¤‡ä»½</span>
                    <label class="switch">
                        <input type="checkbox" id="autoSyncToggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <span id="initActionsTitle" style="display:none">Initialization</span>
            </div>
        </div>

        <div id="syncStatus" class="sync-status" style="display: none;">
            <!-- æ–°çš„å¸ƒå±€ï¼šç¬¬ä¸€è¡ŒA+Bï¼Œç¬¬äºŒè¡ŒC -->
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <!-- ç¬¬ä¸€è¡Œï¼šAï¼ˆå¤‡ä»½æ¨¡å¼åˆ‡æ¢åŒºåŸŸï¼ŒåŒ…å«BçŠ¶æ€å¡ç‰‡åœ¨å³ä¾§ï¼‰-->
                <div class="sync-controls"
                    style="margin: 0; width: 100%; box-sizing: border-box; padding: 12px 20px; background-color: var(--theme-bg-elevated); border-radius: 8px; border: 1px solid var(--theme-border-primary); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); display: flex; flex-direction: column; gap: 8px; align-items: stretch;">

                    <!-- éšè—çš„Sliderç›¸å…³å…ƒç´ ï¼Œä¿ç•™ IDs ä»¥é˜² JS æŠ¥é”™ï¼Œç¨ååœ¨ JS ä¸­å¤„ç† -->
                    <div style="display: none;">
                        <input type="checkbox" id="autoSyncToggle2" checked>
                        <!-- æ—§çš„æŒ‰é’®ï¼Œå¯èƒ½è¢« JS å¼•ç”¨ -->
                        <button id="autoBackupSettingsBtn"></button>
                        <button id="reminderSettingsBtn"></button>
                        <button id="uploadToCloudManual"></button>
                    </div>

                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h3
                            style="margin: 0; font-size: 14px; color: var(--theme-text-primary); font-weight: 500;">
                            å½“å‰å˜åŒ–</h3>
                    </div>

                    <!-- Bï¼šçŠ¶æ€å¡ç‰‡ï¼ˆå…¨å®½ï¼‰-->
                    <div id="rightStatusContainer" style="width: 100%;">
                        <div id="change-description-row" class="status-card" style="
                            padding: 12px 56px;
                            border-radius: 12px;
                            height: 110px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 14px;
                            font-weight: 600;
                            text-align: center;
                            transition: all 0.3s ease;
                            box-sizing: border-box;
                            cursor: pointer;
                            position: relative;
                            width: 100%;
                            margin: 0;
                        " title="ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å˜åŒ–">
                            <div id="statusCardText">è‡ªåŠ¨å¤‡ä»½æ¨¡å¼</div>
                            <i id="statusCardChevron" class="fas fa-chevron-right"
                                style="position: absolute; right: 12px; opacity: 0.5; font-size: 16px; display: none;"></i>

                            <!-- Manual Backup Button Overlay -->
                            <button id="manualBackupBtnOverlay" type="button">
                                <i class="fas fa-hand-pointer"></i> <span id="manualBackupBtnText">æ‰‹åŠ¨å¤‡ä»½</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ç¬¬äºŒè¡Œï¼šCï¼ˆå¤‡ä»½æ£€æŸ¥è®°å½•å†å²ï¼‰ -->
                <div style="display: flex; gap: 15px; align-items: stretch;">
                    <!-- Cï¼šå¤‡ä»½æ£€æŸ¥è®°å½•å†å² -->
                    <div class="sync-history"
                        style="margin: 0; flex: 1 1 100%; padding: 12px 20px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <h3 style="margin: 0;">å¤‡ä»½å†å²</h3>
                                <!-- åˆ†é¡µæ§ä»¶ï¼ˆ10æ¡/é¡µï¼‰- ç´§é â€œå¤‡ä»½å†å²â€æ ‡é¢˜å³ä¾§ -->
                                <div id="syncHistoryPager" class="sync-history-pager" style="display: none;">
                                    <button id="syncHistoryPrevPage" class="action-button" type="button"
                                        style="background-color: transparent; color: #666; border: 1px solid var(--theme-border-primary); border-radius: 4px; padding: 0; width: 22px; height: 24px; font-size: 11px; cursor: pointer; display: inline-flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <input id="syncHistoryPageInput" type="text" value="1"
                                        style="width: 26px; height: 24px; padding: 0; font-size: 11px; text-align: center; border: 1px solid var(--theme-border-primary); border-radius: 4px; background: var(--theme-bg-secondary); color: var(--theme-text-primary);">
                                    <span style="font-size: 11px; color: #666;">/</span>
                                    <span id="syncHistoryTotalPages" style="font-size: 11px; color: #666;">1</span>
                                    <button id="syncHistoryNextPage" class="action-button" type="button"
                                        style="background-color: transparent; color: #666; border: 1px solid var(--theme-border-primary); border-radius: 4px; padding: 0; width: 22px; height: 24px; font-size: 11px; cursor: pointer; display: inline-flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <button id="clearHistoryBtn" class="action-button"
                                    style="display: none; background-color: transparent; color: #666; border: none; border-radius: 4px; padding: 0; width: 20px; height: 24px; font-size: 11px; cursor: pointer; position: relative; align-items: center; justify-content: center;">
                                    <i class="fas fa-trash-alt"></i>
                                    <span class="tooltip"
                                        style="position: absolute; background-color: rgba(0,0,0,0.7); color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s; pointer-events: none; top: -25px; left: 50%; transform: translateX(-50%);">æ¸…ç©ºè®°å½•</span>
                                </button>
                                <button id="exportHistoryBtn" class="action-button"
                                    style="display: none; background-color: transparent; color: #666; border: none; border-radius: 4px; padding: 0; width: 20px; height: 24px; font-size: 11px; cursor: pointer; position: relative; align-items: center; justify-content: center;">
                                    <i class="fas fa-download"></i>
                                    <span class="tooltip"
                                        style="position: absolute; background-color: rgba(0,0,0,0.7); color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s; pointer-events: none; top: -25px; left: 50%; transform: translateX(-50%);">å¯¼å‡ºè®°å½•</span>
                                </button>
                                <button id="openHistoryViewerBtn" class="action-button"
                                    style="background-color: #007AFF; color: white; border: none; border-radius: 4px; padding: 0; font-size: 11px; cursor: pointer; position: relative; width: 32px; height: 24px; display: inline-flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-history" style="font-size: 13px;"></i>
                                    <span class="tooltip" id="historyViewerTooltip"
                                        style="position: absolute; background-color: rgba(0,0,0,0.7); color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s; pointer-events: none; top: -25px; left: 50%; transform: translateX(-50%);"></span>
                                </button>
                            </div>
                        </div>
                        <div id="syncHistoryList" class="history-list">
                            <div class="history-header">
                                <div class="header-item">æ—¶é—´ä¸å¤‡æ³¨</div>
                                <div class="header-item">æ•°é‡/ç»“æ„</div>
                                <div class="header-item">çŠ¶æ€</div>
                            </div>
                            <!-- å†å²è®°å½•é¡¹å°†é€šè¿‡JavaScriptæ·»åŠ  -->
                        </div>
                    </div>

                </div>
            </div>

            <!-- éšè—çš„å¤‡ä»½ä¿¡æ¯ï¼ˆä¿ç•™ç”¨äºJSï¼‰ -->
            <div class="sync-info" style="display: none;">
                <div>æœ€åæ›´æ–°: <span id="lastSyncTime" class="time">æœªå¤‡ä»½</span></div>
                <div class="sync-direction-row">
                    <span>å¤‡ä»½æ–¹å‘: <span id="syncDirection" class="direction">-</span></span>
                </div>
            </div>

            <!-- å†…åµŒçš„å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
            <div style="position: relative; height: 20px; margin-top: 10px;">
                <div
                    style="position: absolute; left: 0; right: 0; height: 1px; background-color: var(--theme-border-primary); top: 50%; transform: translateY(-50%);">
                </div>
                <button id="scrollToTopEmbedded"
                    style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 100px; height: 28px; border-radius: 14px; background: var(--theme-bg-elevated); border: 1px solid var(--theme-border-primary); cursor: pointer; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); display: none; z-index: 10; transition: all 0.3s ease; padding: 0; align-items: center; justify-content: center; gap: 4px; white-space: nowrap;"
                    aria-label="è¿”å›é¡¶éƒ¨">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 14L12 9L17 14" stroke="var(--theme-text-primary)" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <span id="scrollToTopTextEmbedded"
                        style="color: var(--theme-text-primary); font-size: 11px; font-weight: 500; letter-spacing: 0.5px;">è¿”å›é¡¶éƒ¨</span>
                </button>
            </div>

            <!-- å°†manualSyncOptionsè®¾ç½®ä¸ºä»…ç”¨äºJSæ§åˆ¶æ˜¾ç¤º/éšè—ï¼Œä½†å®é™…å†…å®¹å·²ç§»åˆ°ä¸Šé¢ -->
            <div id="manualSyncOptions" class="manual-sync-options" style="display: none;">
            </div>
        </div>
    </div>
    </div>

        <!-- é‡æ–°è®¾è®¡çš„é‡ç½®ç¡®è®¤å¯¹è¯æ¡† -->
    <div id="resetConfirmDialog" class="modal">
        <div class="modal-content"
            style="position: relative; top: auto; right: auto; margin: 15% auto; width: 360px; box-shadow: 0 6px 18px rgba(0,0,0,0.15); border-radius: 10px; padding: 20px;">
            <h3 id="resetDialogTitle"
                style="font-size: 17px; margin-bottom: 14px; color: var(--theme-text-primary); text-align: left; padding-left: 2px;">
                æ¢å¤åˆå§‹çŠ¶æ€</h3>
            <p id="resetDialogDescription"
                style="font-size: 15px; margin-bottom: 10px; text-align: left; padding-left: 2px; color: var(--theme-text-primary);">
                è¯´æ˜ï¼š</p>
            <ul
                style="margin-bottom: 14px; padding-left: 22px; font-size: 14px; line-height: 1.5; color: var(--theme-text-secondary);">
                <li id="resetDialogInfo1">æ¢å¤æ’ä»¶åˆ°é¦–æ¬¡å®‰è£…æ—¶çš„çŠ¶æ€</li>
                <li id="resetDialogInfo2">æ¸…é™¤æ‰€æœ‰é…ç½®å’Œå¤‡ä»½è®°å½•</li>
                <li id="resetDialogInfo3">æ‚¨å½“å‰çš„ä¹¦ç­¾ä¸å—å½±å“</li>
            </ul>
            <p id="resetDialogInfo4"
                style="color: var(--theme-success-color); font-size: 13px; margin: 14px 0; line-height: 1.4; background-color: var(--theme-status-success-bg); padding: 8px 10px; border-radius: 6px; margin-left: 2px;">
                é€‚ç”¨äºï¼šæ¸…é™¤ç¼“å­˜ã€è§£å†³é…ç½®å¼‚å¸¸ç­‰æƒ…å†µ</p>

            <!-- æ·»åŠ æ˜¾ç¤ºåˆå§‹å¤‡ä»½è®°å½•çš„åŒºåŸŸ -->
            <div id="initialBackupInfo"
                style="margin: 14px 0; padding: 8px 10px; background-color: var(--theme-status-info-bg); border-radius: 6px; border-left: 3px solid var(--theme-link-color); font-size: 13px; display: none;">
                <p style="margin: 0 0 5px 0; font-weight: bold; color: var(--theme-text-primary);">æ‚¨çš„åˆå§‹å¤‡ä»½æ–‡ä»¶ï¼š</p>
                <div id="initialBackupFileName"
                    style="word-break: break-all; font-family: monospace; color: var(--theme-text-secondary);"></div>
            </div>

            <div class="button-group" style="margin-top: 18px; justify-content: center; gap: 16px;">
                <button id="confirmReset"
                    style="background-color: var(--theme-error-color); font-size: 14px; padding: 8px 20px; color: white;">ç¡®è®¤</button>
                <button id="cancelReset" class="normal-button"
                    style="font-size: 14px; padding: 8px 20px; background-color: var(--theme-bg-tertiary); color: var(--theme-text-secondary);">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <!-- æ·»åŠ å¤‡ä»½æé†’è®¾ç½®å¯¹è¯æ¡† -->
    <div id="reminderSettingsDialog" class="modal">
        <div class="modal-content"
            style="max-width: 480px; max-height: 90vh; position: fixed; padding: 25px; top: 50%; left: 50%; transform: translate(-50%, -50%); margin: 0; overflow-y: auto;">
            <div style="position: relative; margin-bottom: 12px;">
                <h3 style="color: #4CAF50; font-size: 20px; margin: 0; display: inline-block;">åŠ¨æ€æé†’è®¾ç½®</h3>
                <button id="closeReminderSettings" class="close-button"
                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; display: flex; justify-content: center; align-items: center; font-size: 20px; font-weight: bold; background-color: var(--theme-bg-primary); color: #888; border: none; cursor: pointer; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.1); transition: all 0.2s ease;">Ã—</button>
            </div>

            <!-- å¾ªç¯æé†’è®¾ç½® -->
            <div class="setting-block"
                style="padding: 12px; background-color: var(--theme-bg-secondary); border-radius: 5px; margin-bottom: 12px;">
                <div class="setting-row"
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; height: 38px;">
                    <div class="setting-label" style="display: flex; align-items: center; flex: 1; height: 38px;">
                        <div id="cyclicReminderLabel" class="setting-label-text"
                            style="font-weight: bold; font-size: 16px; margin-right: 5px; width: 85px; text-align: right; flex-shrink: 0; display: flex; align-items: center; justify-content: flex-end; height: 38px; line-height: 38px;">
                        </div>
                        <div class="setting-input" style="display: flex; align-items: center; width: 160px;">
                            <input type="number" id="firstReminderMinutes" min="0" value="60"
                                style="width: 90px; padding: 6px; padding-left: 15px; border-radius: 4px; border: 1px solid #ccc; font-size: 15px; text-align: center; box-sizing: content-box; -moz-appearance: textfield;">
                            <span class="unit" style="margin-left: 6px; min-width: 36px; font-size: 15px;">åˆ†é’Ÿ</span>
                        </div>
                    </div>
                    <div class="toggle-container" style="margin-left: 15px; display: flex; align-items: center;">
                        <button id="reminderToggle" class="toggle-button" data-state="on"
                            style="width: 60px; height: 30px; border-radius: 15px; background-color: #4CAF50; border: none; position: relative; cursor: pointer; padding: 0; transition: background-color 0.3s ease;">
                            <div class="toggle-circle"
                                style="width: 24px; height: 24px; background-color: var(--theme-bg-primary); border-radius: 50%; position: absolute; top: 3px; right: 3px; transition: transform 0.3s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.2);">
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- å‡†ç‚¹å®šæ—¶æé†’è®¾ç½® -->
            <div class="setting-block"
                style="padding: 12px; background-color: var(--theme-bg-secondary); border-radius: 5px; margin-bottom: 12px;">
                <div class="setting-row"
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; height: 38px;">
                    <div class="setting-label" style="display: flex; align-items: center; flex: 1; height: 38px;">
                        <div id="fixedTime1Label" class="setting-label-text"
                            style="font-weight: bold; font-size: 16px; margin-right: 5px; width: 85px; text-align: right; flex-shrink: 0; display: flex; align-items: center; justify-content: flex-end; height: 38px; line-height: 38px;">
                        </div>
                        <div class="setting-input" style="display: flex; align-items: center; width: 160px;">
                            <input type="time" id="fixedTime1" value="09:30"
                                style="width: 90px; padding: 6px; padding-left: 15px; border-radius: 4px; border: 1px solid #ccc; font-size: 15px; text-align: center; font-family: 'Source Code Pro', 'IBM Plex Mono', 'Fira Code', 'Consolas', monospace; font-weight: normal; line-height: 18px; height: 18px; vertical-align: middle; box-sizing: content-box; color: var(--theme-text-primary); letter-spacing: 0.5px;">
                        </div>
                    </div>
                    <div class="toggle-container" style="margin-left: 15px; display: flex; align-items: center;">
                        <button id="fixedTimeToggle1" class="toggle-button" data-state="on"
                            style="width: 60px; height: 30px; border-radius: 15px; background-color: #4CAF50; border: none; position: relative; cursor: pointer; padding: 0; transition: background-color 0.3s ease;">
                            <div class="toggle-circle"
                                style="width: 24px; height: 24px; background-color: var(--theme-bg-primary); border-radius: 50%; position: absolute; top: 3px; right: 3px; transition: transform 0.3s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.2);">
                            </div>
                        </button>
                    </div>
                </div>
                <div class="setting-row"
                    style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px; height: 38px;">
                    <div class="setting-label" style="display: flex; align-items: center; flex: 1; height: 38px;">
                        <div id="fixedTime2Label" class="setting-label-text"
                            style="font-weight: bold; font-size: 16px; margin-right: 5px; width: 85px; text-align: right; flex-shrink: 0; display: flex; align-items: center; justify-content: flex-end; height: 38px; line-height: 38px;">
                        </div>
                        <div class="setting-input" style="display: flex; align-items: center; width: 160px;">
                            <input type="time" id="fixedTime2" value="16:00"
                                style="width: 90px; padding: 6px; padding-left: 15px; border-radius: 4px; border: 1px solid #ccc; font-size: 15px; text-align: center; font-family: 'Source Code Pro', 'IBM Plex Mono', 'Fira Code', 'Consolas', monospace; font-weight: normal; line-height: 18px; height: 18px; vertical-align: middle; box-sizing: content-box; color: var(--theme-text-primary); letter-spacing: 0.5px;">
                        </div>
                    </div>
                    <div class="toggle-container" style="margin-left: 15px; display: flex; align-items: center;">
                        <button id="fixedTimeToggle2" class="toggle-button" data-state="off"
                            style="width: 60px; height: 30px; border-radius: 15px; background-color: #ccc; border: none; position: relative; cursor: pointer; padding: 0; transition: background-color 0.3s ease;">
                            <div class="toggle-circle"
                                style="width: 24px; height: 24px; background-color: var(--theme-bg-primary); border-radius: 50%; position: absolute; top: 3px; left: 3px; transition: transform 0.3s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.2);">
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- æ·»åŠ å£°æ˜åŒºå— -->
            <div class="setting-block"
                style="padding: 12px; background-color: var(--theme-bg-secondary); border-radius: 5px; margin-bottom: 12px;">
                <div style="font-size: 14px; line-height: 1.5; color: var(--theme-text-secondary);">
                    <div class="reminder-desc" id="manualBackupReminderDesc">å¾ªç¯æé†’çš„è®¡æ—¶ï¼šæµè§ˆå™¨çš„<span
                            style="color: orange;">å®é™…ä½¿ç”¨æ—¶é—´</span>ï¼Œå³ï¼ˆå¤šï¼‰çª—å£ç„¦ç‚¹æ—¶é—´ã€‚<br>æ‰‹åŠ¨å¤‡ä»½ä¸‹ï¼Œè¿›è¡Œæ“ä½œï¼ˆæ•°é‡/ç»“æ„å˜åŒ–ï¼‰æ‰ä¼šæé†’ï¼Œ</div>
                    <div id="reminderExample">ç¤ºä¾‹ï¼š(<span style="color: #4CAF50;">+12</span> ä¹¦ç­¾ï¼Œ<span
                            style="color: #4CAF50;">+1</span> æ–‡ä»¶å¤¹ï¼Œ<span style="color: orange;">ä¹¦ç­¾ã€æ–‡ä»¶å¤¹å˜åŠ¨</span>)</div>
                </div>
            </div>

            <!-- æŒ‰é’®åŒºåŸŸ -->
            <div class="button-group"
                style="margin-top: 20px; display: flex; justify-content: space-between; gap: 12px;">
                <button id="restoreDefaultSettings" class="normal-button"
                    style="flex: 1; padding: 10px 15px; border: none; background-color: var(--theme-bg-tertiary); color: var(--theme-text-secondary); border-radius: 6px; cursor: pointer; font-size: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease;">æ¢å¤é»˜è®¤</button>
                <button id="saveReminderSettings" class="action-button"
                    style="flex: 1; padding: 10px 15px; border: none; background-color: #4CAF50; color: white; border-radius: 6px; cursor: pointer; font-size: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease;"
                    aria-label="ä¿å­˜" title="ä¿å­˜">ä¿å­˜</button>
            </div>

            <!-- ä¿å­˜æç¤º -->
            <div id="settingsSavedIndicator"
                style="position: absolute; left: 0; right: 0; bottom: 60px; text-align: center; color: white; opacity: 0; transition: all 0.3s ease; display: none; padding: 8px; font-size: 15px; background-color: rgba(76, 175, 80, 0.9); border-radius: 4px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); max-width: 200px; margin: 0 auto; transform: translateY(0);">
                è®¾ç½®å·²ä¿å­˜
            </div>
        </div>
    </div>

    <!-- æ·»åŠ è‡ªåŠ¨å¤‡ä»½è®¾ç½®å¯¹è¯æ¡†ï¼ˆé‡æ„ä¸ºåŒºå—å¼UIï¼‰ -->
    <div id="autoBackupSettingsDialog" class="modal">
        <div class="modal-content"
            style="max-width: 520px; max-height: 90vh; position: fixed; padding: 25px; top: 50%; left: 50%; transform: translate(-50%, -50%); margin: 0; overflow-y: auto;">
            <div style="position: relative; margin-bottom: 12px;">
                <h3 id="autoBackupSettingsTitle"
                    style="color: #4CAF50; font-size: 20px; margin: 0; display: inline-block;">è‡ªåŠ¨å¤‡ä»½è®¾ç½®</h3>
                <button id="closeAutoBackupSettings" class="close-button"
                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; display: flex; justify-content: center; align-items: center; font-size: 20px; font-weight: bold; background-color: var(--theme-bg-primary); color: #888; border: none; cursor: pointer; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.1); transition: all 0.2s ease;">Ã—</button>
            </div>

            <!-- è‡ªåŠ¨å¤‡ä»½å®šæ—¶å™¨UIå®¹å™¨ -->
            <div id="autoBackupTimerUIContainer">
                <!-- ä¸‰ä¸ªå¤‡ä»½æ¨¡å¼çš„UIä¼šç”± JS åŠ¨æ€æ’å…¥åˆ°è¿™é‡Œ -->
            </div>

            <!-- æŒ‰é’®åŒºåŸŸ -->
            <div class="button-group"
                style="margin-top: 20px; display: flex; justify-content: space-between; gap: 12px;">
                <button id="restoreAutoBackupDefaults" class="normal-button"
                    style="flex: 1; padding: 10px 15px; border: none; background-color: var(--theme-bg-tertiary); color: var(--theme-text-secondary); border-radius: 6px; cursor: pointer; font-size: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease;">æ¢å¤é»˜è®¤</button>
                <button id="saveAutoBackupSettings" class="action-button"
                    style="flex: 1; padding: 10px 15px; border: none; background-color: #4CAF50; color: white; border-radius: 6px; cursor: pointer; font-size: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease;"
                    aria-label="ä¿å­˜" title="ä¿å­˜">ä¿å­˜</button>
            </div>

            <!-- ä¿å­˜æç¤º -->
            <div id="autoBackupSettingsSavedIndicator"
                style="position: absolute; left: 0; right: 0; bottom: 60px; text-align: center; color: white; opacity: 0; transition: all 0.3s ease; display: none; padding: 8px; font-size: 15px; background-color: rgba(76, 175, 80, 0.9); border-radius: 4px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); max-width: 200px; margin: 0 auto; transform: translateY(0);">
                è®¾ç½®å·²ä¿å­˜
            </div>
        </div>
    </div>

    <!-- æ·»åŠ æ¸…ç©ºè®°å½•ç¡®è®¤å¯¹è¯æ¡† -->
    <div id="clearHistoryConfirmDialog" class="modal">
        <div class="modal-content"
            style="position: relative; top: auto; right: auto; margin: 15% auto; width: 360px; box-shadow: 0 6px 18px rgba(0,0,0,0.15); border-radius: 10px; padding: 20px;">
            <h3 id="clearHistoryDialogTitle"
                style="font-size: 17px; margin-bottom: 14px; color: var(--theme-text-primary); text-align: left; padding-left: 2px;">
                ç¡®è®¤æ¸…ç©ºè®°å½•</h3>
            <p id="clearHistoryDialogDescription"
                style="font-size: 15px; margin-bottom: 10px; text-align: left; padding-left: 2px; color: var(--theme-text-primary);">
                ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¤‡ä»½å†å²è®°å½•å—ï¼Ÿ</p>
            <p id="clearHistoryWarning"
                style="color: var(--theme-error-color); font-size: 13px; margin: 14px 0; line-height: 1.4; background-color: var(--theme-status-error-bg); padding: 8px 10px; border-radius: 6px; margin-left: 2px;">
                æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼Œæ¸…ç©ºåæ— æ³•æ¢å¤è¿™äº›è®°å½•ã€‚</p>

            <!-- æ·»åŠ è“è‰²ä¿¡æ¯åŒºå— -->
            <div id="clearHistoryInfo"
                style="color: var(--theme-link-color); font-size: 13px; margin: 14px 0; line-height: 1.4; background-color: var(--theme-status-info-bg); padding: 8px 10px; border-radius: 6px; margin-left: 2px; border-left: 3px solid var(--theme-link-color);">
                <span id="clearHistoryInfoText">æç¤ºï¼šå†å²è®°å½•ä¸ä¼šè‡ªåŠ¨å½’æ¡£/æ¸…ç†ã€‚<br>ä½ å¯ä»¥åœ¨ã€Œå¤‡ä»½å†å²ã€é‡ŒæŒ‰éœ€å¯¼å‡ºæˆ–åˆ é™¤ã€‚</span>
            </div>

            <div class="button-group" style="margin-top: 18px; justify-content: center; gap: 16px;">
                <button id="confirmClearHistory"
                    style="background-color: var(--theme-error-color); font-size: 14px; padding: 8px 20px; color: white;">ç¡®è®¤æ¸…ç©º</button>
                <button id="cancelClearHistory" class="normal-button"
                    style="font-size: 14px; padding: 8px 20px; background-color: var(--theme-bg-tertiary); color: var(--theme-text-secondary);">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <!-- å¼€æºä¿¡æ¯å¯¹è¯æ¡† -->
    <div id="openSourceInfoDialog" class="modal">
        <div class="modal-content"
            style="position: relative; top: auto; right: auto; margin: 15% auto; width: 380px; box-shadow: 0 6px 18px rgba(0,0,0,0.15); border-radius: 10px; padding: 20px;">
            <!-- æ ‡é¢˜å’Œå…³é—­æŒ‰é’®å¸ƒå±€ -->
            <div style="position: relative; margin-bottom: 14px;">
                <h3 id="openSourceInfoTitle"
                    style="font-size: 17px; margin: 0; color: var(--theme-accent-text-color); text-align: left;">å¼€æºä¿¡æ¯
                </h3>
                <button id="closeOpenSourceDialog" class="close-button"
                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; display: flex; justify-content: center; align-items: center; font-size: 20px; font-weight: bold; background-color: var(--theme-bg-primary); color: #888; border: none; cursor: pointer; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.1); transition: all 0.2s ease;">Ã—</button>
            </div>

            <div style="background-color: var(--theme-bg-secondary); padding: 14px; border-radius: 8px;">
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div>
                        <p id="openSourceGithubLabel"
                            style="font-size: 14px; color: var(--theme-text-secondary); margin: 0 0 4px 0;">GitHub ä»“åº“:
                        </p>
                        <a id="openSourceGithubLink"
                            href="https://github.com/kwenxu/Bookmark-Backup?tab=readme-ov-file#readme" target="_blank"
                            style="display: block; padding: 8px 12px; background-color: var(--theme-bg-tertiary); border-radius: 6px; color: var(--theme-link-color); text-decoration: none; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                            <i class="fab fa-github" style="margin-right: 5px;"></i>
                            https://github.com/kwenxu/Bookmark-Backup
                        </a>
                    </div>

                    <div>
                        <p id="openSourceIssueLabel"
                            style="font-size: 14px; color: var(--theme-text-secondary); margin: 0 0 4px 0;">é—®é¢˜åé¦ˆ:</p>
                        <a id="openSourceIssueLink" href="https://github.com/kwenxu/Bookmark-Backup/issues"
                            target="_blank"
                            style="display: block; padding: 8px 12px; background-color: var(--theme-bg-tertiary); border-radius: 6px; color: var(--theme-link-color); text-decoration: none;">
                            <i class="fas fa-exclamation-circle" style="margin-right: 5px;"></i>
                            <span id="openSourceIssueText">æäº¤é—®é¢˜</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- æ¢å¤å†å²é€‰æ‹©å¯¹è¯æ¡† -->
    <div id="restoreModal" class="modal">
        <div class="modal-content"
            style="width: 720px; max-width: calc(100% - 24px); display: flex; flex-direction: column; max-height: 90vh; position: relative; top: auto; right: auto; margin: 0; box-shadow: 0 6px 18px rgba(0,0,0,0.15); border-radius: 12px; padding: 0;">
            <div class="restore-modal-header">
                <h3 id="restoreModalTitle" class="restore-modal-title">Restore History</h3>
                <button id="closeRestoreModal" class="popup-modal-close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="modal-body" style="overflow-y: auto; flex: 1; padding: 12px 16px;">
                <div id="restoreVersionTypeSegment" style="display: none; justify-content: flex-start; margin-bottom: 10px;">
                    <div id="restoreVersionTypeGroup" class="restore-strategy-group">
                        <label class="restore-strategy-label" title="" id="restoreVersionTypeHistoryLabelWrap">
                            <input type="radio" name="restoreVersionType" id="restoreVersionTypeHistory" value="history" checked>
                            <div class="restore-strategy-option" id="restoreVersionTypeHistoryLabel">
                                <span class="restore-strategy-icon">âœ“</span>
                                <span id="restoreVersionTypeHistoryText">Restore Versions</span>
                            </div>
                        </label>
                        <label class="restore-strategy-label" title="" id="restoreVersionTypeSnapshotLabelWrap">
                            <input type="radio" name="restoreVersionType" id="restoreVersionTypeSnapshot" value="snapshot">
                            <div class="restore-strategy-option" id="restoreVersionTypeSnapshotLabel">
                                <span class="restore-strategy-icon">âœ“</span>
                                <span id="restoreVersionTypeSnapshotText"></span>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="global-export-table-container"
                    style="border: 1px solid var(--theme-border-primary); border-radius: 8px; overflow: hidden;">
                    <table id="restoreVersionTable" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="text-align: center; width: 40px;"></th>
                                <th style="text-align: center; width: 54px;"><span id="restoreThSeq">åºå·</span></th>
                                <th style="text-align: left;"><span id="restoreThNote">å¤‡æ³¨</span></th>
                                <th style="text-align: left; width: 74px;"><span id="restoreThHash">å“ˆå¸Œå€¼</span></th>
                                <th style="text-align: left; width: 130px;"><span id="restoreThTime">æ—¶é—´</span></th>
                                <th style="text-align: left; width: 150px;"><span id="restoreThStats">è®°å½•å˜åŒ–</span></th>
                                <th style="text-align: left; width: 150px;"><span id="restoreThStatsCurrent">å¯¹å½“å‰å½±å“</span></th>
                            </tr>
                        </thead>
                        <tbody id="restoreVersionTableBody">
                            <tr>
                                <td colspan="7"
                                    style="padding: 14px; text-align: center; color: var(--theme-text-secondary);">
                                    Loading...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Restore list pagination (10 per page) -->
                <div id="restorePagination"
                    style="display: none; align-items: center; justify-content: flex-end; gap: 8px; margin-top: 10px;">
                    <button id="restorePrevPage" type="button"
                        style="width: 28px; height: 28px; flex: 0 0 auto; border: 1px solid var(--theme-border-primary); border-radius: 6px; background: var(--theme-bg-secondary); color: var(--theme-text-primary); cursor: pointer; display: inline-flex; align-items: center; justify-content: center; padding: 0; box-shadow: none;">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <input type="text" id="restorePageInput" value="1"
                        style="width: 32px; height: 28px; flex: 0 0 auto; padding: 4px; font-size: 13px; text-align: center; border: 1px solid var(--theme-border-primary); border-radius: 6px; background: var(--theme-bg-secondary); color: var(--theme-text-primary); outline: none; box-sizing: border-box;">
                    <div style="display: flex; align-items: center; color: var(--theme-text-secondary); font-size: 13px;">
                        <span style="margin: 0 4px;">/</span>
                        <span id="restoreTotalPages">1</span>
                    </div>
                    <button id="restoreNextPage" type="button"
                        style="width: 28px; height: 28px; flex: 0 0 auto; border: 1px solid var(--theme-border-primary); border-radius: 6px; background: var(--theme-bg-secondary); color: var(--theme-text-primary); cursor: pointer; display: inline-flex; align-items: center; justify-content: center; padding: 0; box-shadow: none;">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div id="restorePageHint" style="margin-left: 6px; color: var(--theme-text-secondary); font-size: 12px;">
                        10/é¡µ
                    </div>
                </div>
            </div>

            <div class="restore-modal-footer">
                <div class="restore-modal-actions">
                    <button id="cancelRestoreBtnRef" class="restore-modal-action-btn secondary">Cancel</button>
                    <div id="restoreStrategySegment">
                        <div id="restoreStrategyGroup" class="restore-strategy-group disabled">
                            <label class="restore-strategy-label" title="" id="restoreStrategyOverwriteLabelWrap">
                                <input type="radio" name="restoreStrategy" id="restoreStrategyOverwrite"
                                    value="overwrite" checked disabled>
                                <div class="restore-strategy-option" id="restoreStrategyOverwriteLabel">
                                    <span class="restore-strategy-icon">âœ“</span>
                                    <span>Overwrite</span>
                                </div>
                            </label>
                            <label class="restore-strategy-label" title="" id="restoreStrategyMergeLabelWrap">
                                <input type="radio" name="restoreStrategy" id="restoreStrategyMerge" value="merge"
                                    disabled>
                                <div class="restore-strategy-option" id="restoreStrategyMergeLabel">
                                    <span class="restore-strategy-icon">âœ“</span>
                                    <span>Merge</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Merge view mode (only for Backup History + Merge) -->
                    <div id="restoreMergeViewModeSegment" style="display: none;">
                        <div id="restoreMergeViewModeGroup" class="restore-strategy-group">
                            <label class="restore-strategy-label" title="" id="restoreMergeViewModeSimpleWrap">
                                <input type="radio" name="restoreMergeViewMode" id="restoreMergeViewModeSimple" value="simple" checked>
                                <div class="restore-strategy-option" id="restoreMergeViewModeSimpleLabel">
                                    <span class="restore-strategy-icon">âœ“</span>
                                    <span id="restoreMergeViewModeSimpleText">Simple</span>
                                </div>
                            </label>
                            <label class="restore-strategy-label" title="" id="restoreMergeViewModeDetailedWrap">
                                <input type="radio" name="restoreMergeViewMode" id="restoreMergeViewModeDetailed" value="detailed">
                                <div class="restore-strategy-option" id="restoreMergeViewModeDetailedLabel">
                                    <span class="restore-strategy-icon">âœ“</span>
                                    <span id="restoreMergeViewModeDetailedText">Detailed</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <button id="confirmRestoreBtnRef" class="restore-modal-action-btn primary" disabled>Restore</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Restore äºŒçº§ç¡®è®¤å¯¹è¯æ¡† -->
    <div id="restoreConfirmModal" class="modal">
        <div class="modal-content"
            style="position: relative; top: auto; right: auto; margin: 0; width: 500px; max-width: calc(100% - 24px); box-shadow: var(--shadow-lg); border-radius: 12px; padding: 0; overflow: hidden;">

            <div class="modal-header compact"
                style="display: flex; align-items: center; justify-content: space-between; padding: 12px 20px; border-bottom: 1px solid var(--border-color); background: var(--bg-elevated);">
                <div style="display: flex; align-items: center; gap: 10px; min-width: 0;">
                    <h3 id="restoreConfirmTitle" style="font-size: 16px; margin: 0; color: var(--text-primary);">
                        ç¡®è®¤æ¢å¤
                    </h3>
                </div>
                <button id="closeRestoreConfirmModal" aria-label="Close"
                    style="width: 32px; height: 32px; padding: 0; flex: 0 0 auto; border-radius: 50%; background: var(--bg-secondary); color: var(--text-primary); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease;">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Main view (summary + warning + diff bar + actions) -->
            <div id="restoreConfirmMainView" style="display: block; padding: 12px 20px 14px; box-sizing: border-box;">
                <div id="restoreConfirmSummary" class="restore-confirm-summary"></div>
                <div id="restoreConfirmWarning" class="restore-confirm-warning"></div>

                <!-- Diff bar + preview -->
                <div id="restoreDiffBar" class="restore-diff-bar" style="display: none;">
                    <div id="restoreDiffSummary"
                        style="font-size: 11px; color: var(--text-secondary); text-align: left; flex: 1;">
                        æ­£åœ¨è®¡ç®—å·®å¼‚...
                    </div>

                    <button id="restoreImportTargetBtn" class="restore-preview-btn" style="display: none;">
                        <span id="restoreImportTargetBtnText">å¯¼å…¥ä½ç½®</span>
                    </button>

                    <button id="restorePreviewBtn" class="restore-preview-btn" style="display: none;">
                        <span id="restorePreviewBtnText">é¢„è§ˆ</span>
                    </button>
                </div>

                <div id="restoreImportTargetHint" class="restore-import-target-hint" style="display: none;"></div>

                <div id="restoreConfirmActionRow" class="button-group"
                    style="margin-top: 14px; justify-content: flex-end; gap: 10px;">
                    <button id="restoreConfirmCancelBtn" class="restore-modal-action-btn secondary">å–æ¶ˆ</button>
                    <button id="restoreConfirmConfirmBtn" class="restore-modal-action-btn danger">ç¡®è®¤æ¢å¤</button>
                </div>
            </div>

            <!-- Preview view -->
            <div id="restorePreviewView"
                style="display: none; width: 100%; height: 100%; box-sizing: border-box; flex-direction: column;">
                <div id="restorePreviewContent" class="history-tree-container"
                    style="flex: 1; overflow-y: auto; padding: 10px 0;">
                    <!-- Tree content goes here -->
                </div>
            </div>
        </div>
    </div>

    <!-- å¯¼å…¥åˆå¹¶ï¼šé€‰æ‹©å¯¼å…¥ä½ç½® -->
    <div id="importTargetModal" class="modal">
        <div class="modal-content"
            style="position: relative; top: auto; right: auto; margin: 0; width: 420px; max-width: calc(100% - 24px); box-shadow: var(--shadow-lg); border-radius: 12px; padding: 0; overflow: hidden;">
            <div class="modal-header compact"
                style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid var(--border-color); background: var(--bg-elevated);">
                <h3 id="importTargetTitle" style="font-size: 15px; margin: 0; color: var(--text-primary);">é€‰æ‹©å¯¼å…¥ä½ç½®</h3>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <button id="clearImportTargetSelectionBtn" aria-label="æ¸…é™¤é€‰æ‹©"
                        style="width: 28px; height: 28px; padding: 0; border-radius: 50%; background: var(--bg-secondary); color: var(--text-secondary); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button id="closeImportTargetModal" aria-label="Close"
                        style="width: 28px; height: 28px; padding: 0; border-radius: 50%; background: var(--bg-secondary); color: var(--text-primary); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div style="padding: 12px 16px;">
                <div id="importTargetDesc" style="font-size: 12px; color: var(--text-secondary);">
                    å¯é€‰æ‹©ä»»æ„æ–‡ä»¶å¤¹ä½œä¸ºå¯¼å…¥ä½ç½®ï¼Œå­æ–‡ä»¶å¤¹æŒ‰å±•å¼€åŠ è½½ã€‚
                </div>
                <div id="importTargetList" class="import-target-list"></div>
                <div class="import-target-actions">
                    <button id="importTargetCancelBtn" class="restore-modal-action-btn secondary">å–æ¶ˆ</button>
                    <button id="importTargetConfirmBtn" class="restore-modal-action-btn primary">ç¡®è®¤é€‰æ‹©</button>
                </div>
            </div>
        </div>
    </div>

    <!-- é¡µé¢åº•éƒ¨æ­£ä¸­å¤®é€æ˜é•¿æ¡å‘ä¸Šç®­å¤´æŒ‰é’® -->
    <button id="scrollToTopFloating"
        style="position: fixed; left: 50%; bottom: 15px; transform: translateX(-50%); width: auto; height: 36px; padding: 0 16px; border-radius: 6px; background: transparent; border: none; cursor: pointer; display: none; z-index: 10000; transition: all 0.3s ease; align-items: center; justify-content: center; gap: 6px;"
        aria-label="è¿”å›é¡¶éƒ¨">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 14L12 9L17 14" stroke="var(--theme-text-primary)" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
        </svg>
        <span id="scrollToTopText"
            style="color: var(--theme-text-primary); font-size: 13px; font-weight: 500;">è¿”å›é¡¶éƒ¨</span>
    </button>

    <!-- æ·»åŠ å¤–éƒ¨è„šæœ¬å¼•ç”¨ -->
</body>

</html>
